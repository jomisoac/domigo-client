/**
 * Created by Jose Soto
 * on 9/06/2016.
 */
function localStorageSupport(){return"localStorage"in window&&null!==window.localStorage}function animationHover(e,o){e=$(e),e.hover(function(){e.addClass("animated "+o)},function(){window.setTimeout(function(){e.removeClass("animated "+o)},2e3)})}function SmoothlyMenu(){!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},300)):$("#side-menu").removeAttr("style")}function WinMove(){var e="[class*=col]",o=".ibox-title",a="[class*=col]";$(e).sortable({handle:o,connectWith:a,tolerance:"pointer",forcePlaceholderSize:!0,opacity:.8}).disableSelection()}!function(){"use strict";function e(e){e.state("app.home",{url:"/home/",templateUrl:"app/centrales/home/home.html",data:{onlyAccess:"EMPRESA"},controller:"HomeController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Home",link:"app.home",icon:"fa fa-home"}],"EMPRESA")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.central_home",[]).config(e).run(o)}(),function(){"use strict";function e(){}angular.module("app.central_home").controller("HomeController",e)}(),function(){"use strict";function e(e){e.state("app.gestion-pedidos",{url:"/central/pedidos",templateUrl:"app/centrales/gestion-pedidos/central-pedidos.html",data:{onlyAccess:"EMPRESA"},controller:"CentralPedidosController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Nuevos Pedidos",link:"app.gestion-pedidos",icon:"fa fa-gift"}],"EMPRESA")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.central_pedidos",[]).config(e).run(o)}(),function(){"use strict";function e(e,o,a,t){function s(e){c.selectedPedido=e}function n(e){c.selectedMensajero=e}function i(e,o){io.socket.request({method:"get",url:"/clientes/"+e+"/direcciones_frecuentes?direccion="+o,headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}},function(e){c.dorigens=e.data})}function r(e,o){io.socket.request({method:"get",url:"/clientes/"+e+"/direcciones_frecuentes?direccion="+o,headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}},function(e){c.ddestinos=e.data})}function l(){c.mensajeros=[];var o="condicion,nombre,apellidos,telefonos,cedula,id";e.service("mensajeros?fields="+o,e.one("empresas",a.currentUser().id)).getList({condicion:"activo",estado:1}).then(function(e){c.mensajeros=e})}function d(e){if(c.selectedMensajero&&c.selectedPedido){var o=c.clientes[e];c.pedido.mensajero=c.selectedMensajero.id,c.pedido.empresa=a.currentUser().id,io.socket.request({method:"post",url:"/mensajeros/"+c.selectedMensajero.id+"/domicilios",data:o,headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}},function(o){l(),c.clientes.splice(e,1),sessionStorage.setItem("pedidos",JSON.stringify(c.clientes)),swal("Se registro el pedido correctamente")})}else swal("No ha seleccionado ninguna mensajero para registrar el pedido")}o.suscribe(a.currentUser().id);var c=this;c.selectPedido=s,c.selectMensajero=n,c.cargarDireccionesOrigen=i,c.cargarDireccionesDestino=r,c.guardarPedido=d,c.dorigens=[],c.ddestinos=[],c.pedido={},c.clientes=JSON.parse(sessionStorage.getItem("pedidos"))||[],io.socket.on("newCall",function(e){t.$apply(function(){e.cliente.telefono=parseInt(e.cliente.telefono),c.clientes.push(e),sessionStorage.setItem("pedidos",JSON.stringify(c.clientes))})}),l()}e.$inject=["Restangular","SocketcSailsService","authService","$scope"],angular.module("app.central_pedidos").controller("CentralPedidosController",e)}(),function(){"use strict";function e(e){e.state("app.gestion-pagos",{url:"/central/pagos",templateUrl:"app/centrales/gestion-pagos/central-pagos.html",data:{onlyAccess:"EMPRESA"},controller:"CentralPagosController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Gestion pagos",link:"app.gestion-pagos",icon:"fa fa-money"}],"EMPRESA")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.central_pagos",[]).config(e).run(o)}(),function(){"use strict";function e(e,o){function a(){var a="fotografia,condicion,direccion,nombre,apellidos,telefonos,email,vehiculo,cedula,id";e.service("mensajeros?fields="+a,e.one("empresas",o.currentUser().id)).getList({cedula:s.buscar}).then(function(e){s.mensajero=e,s.mensajero.fecha_pago=new Date,s.mensajero.length<=0&&swal("No se encontro ningun mensajero con esta identificacion")})}function t(){swal("Estamos trabajando en esta funcionalidad, por favor, sea paciente :)")}var s=this;s.buscar="",s.cargarMensajero=a,s.guardarPago=t}e.$inject=["Restangular","authService"],angular.module("app.central_pagos").controller("CentralPagosController",e)}(),function(){"use strict";function e(e){e.state("app.central-mensajeros",{url:"/central/mensajeros",templateUrl:"app/centrales/gestion-mensajeros/central-mensajeros.html",data:{onlyAccess:"EMPRESA"},controller:"CentralMensajerosController",controllerAs:"vm"}).state("app.detalle-mensajero",{url:"/central/detalle/mensajero",templateUrl:"app/centrales/gestion-mensajeros/detalles-mensajeros.html",data:{onlyAccess:"EMPRESA"},params:{id:null},controller:"CentralDetallesMensajerosController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Mensajeros",link:"app.central-mensajeros",icon:"fa fa-users"}],"EMPRESA")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.central_mensajeros",[]).config(e).run(o)}(),function(){"use strict";function e(e,o,a,t){function s(){b.mensajerosActivos=0,b.mensajerosBloqueados=0,b.mensajerosAusentes=0;var a="condicion";e.service("mensajeros?fields="+a,e.one("empresas",o.currentUser().id)).getList().then(function(e){angular.forEach(e,function(e){"activo"==e.condicion?b.mensajerosActivos++:"sancionado"==e.condicion?b.mensajerosBloqueados++:"ausente"==e.condicion&&b.mensajerosAusentes++})})}function n(){b.texto="Mensajeros Activos",b.mensajeros=[];var a="fotografia,condicion,direccion,nombre,apellidos,telefonos,email,vehiculo,cedula,id";e.service("mensajeros?fields="+a,e.one("empresas",o.currentUser().id)).getList({condicion:"activo"}).then(function(e){b.mensajeros=e})}function i(){b.texto="Mensajeros Sancionados",b.mensajeros=[];var a="fotografia,condicion,direccion,nombre,apellidos,telefonos,email,vehiculo,cedula,id";e.service("mensajeros?fields="+a,e.one("empresas",o.currentUser().id)).getList({condicion:"sancionado"}).then(function(e){b.mensajeros=e})}function r(){b.texto="Mensajeros Ausentes",b.mensajeros=[];var a="fotografia,condicion,direccion,nombre,apellidos,telefonos,email,vehiculo,cedula,id";e.service("mensajeros?fields="+a,e.one("empresas",o.currentUser().id)).getList({condicion:"ausente"}).then(function(e){b.mensajeros=e})}function l(e){b.mensajero=e,b.mensajero.cedula=parseInt(b.mensajero.cedula),b.mensajero.telefonos=parseInt(b.mensajero.telefonos),b.mensajero.licencia_conducion=parseInt(b.mensajero.licencia_conducion),b.mensajero.fecha_expedicion_licencia=new Date(b.mensajero.fecha_expedicion_licencia),b.mensajero.fecha_vencimiento_licencia=new Date(b.mensajero.fecha_vencimiento_licencia),b.mensajero.fecha_nacimiento=new Date(b.mensajero.fecha_nacimiento)}function d(e){b.mensajero=e,b.mensajero.cedula=parseInt(b.mensajero.cedula),b.mensajero.telefonos=parseInt(b.mensajero.telefonos),$("#verMensajero").modal("show")}function c(){$("#addListaNegra").modal("show")}function m(o){b.m=o,swal({title:"ESTAS SEGURO?",text:"Estas intentando sancionar al mensajero "+o.nombre+" "+o.apellidos,type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Escribe aca la causa de sancion"},function(o){if(o===!1)return!1;if(""===o)return swal.showInputError("No has escrito nada en el campo!"),!1;var a=e.one("mensajeros/"+b.m.id+"/condicion");a.condicion="sancionado",a.razon=o,a.put().then(function(e){$("#verMensajero").modal("toggle"),swal(e.nombre+" "+e.apellidos+" sancionado correctamente"),swal("Sancionado correctamente"),l(e),s(),i()})})}function u(o){b.m=o,swal({title:"ESTAS SEGURO?",text:"Estas intentando quitar la sancion al mensajero "+o.nombre+" "+o.apellidos,type:"info",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Si",closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){setTimeout(function(){var o=e.one("mensajeros/"+b.m.id+"/condicion");o.condicion="activo",o.put().then(function(e){$("#verMensajero").modal("toggle"),swal("Sancion quitada correctamente al mensajero "),l(e),s(),n()})},200)})}function p(){b.mensajero={},$("#newMensajero").modal("show"),document.getElementById("image").innerHTML=['<img class="center" id="imagenlogo" style="width:200px; height: 200px; border-radius: 50%; ng-src="http://',b.mensajero.fotografia,'"  />'].join("")}function g(){f.post(b.mensajero).then(function(e){swal("Se guardo correctamente al mensajero "+e.nombre+" "+e.apellidos),$("#newMensajero").modal("toggle"),v(e),s(),"activo"==e.condicion?n():i()})}function v(e){if(console.log(e),console.log(b.fotografia),b.fotografia){var o=new FormData;return o.append("fotografia",b.fotografia),a.post(t+"/mensajeros/"+e.id+"/fotografia",o,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}}var b=this,f=e.all("/empresas/"+o.currentUser().id+"/mensajeros");b.variableActivos=!0,b.variableBloqueados=!1,b.fotografia="",b.cargarMensajeros=s,b.cargarMensajerosActivos=n,b.cargarMensajerosBloqueados=i,b.cargarMensajerosAusentes=r,b.verMensajero=d,b.addListaNegra=c,b.bloquearMensajero=m,b.desbloquearMensajero=u,b.newMensajero=p,b.guardarMensajero=g,1==b.variableActivos&&n(),s()}e.$inject=["Restangular","authService","$http","API"],angular.module("app.central_mensajeros").controller("CentralMensajerosController",e)}(),function(){"use strict";function e(e){e.state("app.admin-centrales",{url:"/admin/centrales",templateUrl:"app/admin/gestion-centrales/admin-centrales.html",data:{onlyAccess:"SUPER_ADM"},controller:"AdminCentralesController",controllerAs:"vm"}).state("app.admin-centrales-mensajeros",{url:"/admin/centrales/mensajeros",templateUrl:"app/admin/gestion-centrales/admin-mensajeros.html",params:{id:null,nombre:null},data:{onlyAccess:"SUPER_ADM"},controller:"AdminMensajerosController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Empresas",link:"app.admin-centrales",icon:"fa fa-house"}],"SUPER_ADM")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.admin_centrales",[]).config(e).run(o)}(),function(){"use strict";function e(e,o,a){function t(){n.mensajeros=[];var o="all";a.all("/empresas/"+e.id+"/mensajeros?fields="+o).getList().then(function(e){n.mensajeros=e,angular.forEach(e,function(e){1==e.activo?n.mensajerosActivos++:n.mensajerosInactivos++})})}function s(e){n.mensajero=e,$("#newMensajero").modal("show")}var n=this;n.newMensajero=newMensajero,n.verMensajero=s,n.mensajeros=[],n.mensajerosActivos=0,n.mensajerosInactivos=0,n.nombreEmpresa=e.nombre,n.dtOptions=o.fromSource().withLanguage({sEmptyTable:"No hay mensajeros registrados en esta empresa",sInfo:"Mostrando _START_ a _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando 0 a 0 de 0 registros",sInfoFiltered:"(filtrado desde _MAX_ registros)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Mostrar _MENU_ registros",sLoadingRecords:"Cargando...",sProcessing:"Procesando...",sSearch:"Buscar:",sZeroRecords:"No se encontraron registros que coincidar con la busqueda",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": activar para ordenar las columnas ascendente",sSortDescending:": activar para ordenar las columnas descendente"}}).withBootstrap(),t()}e.$inject=["$stateParams","DTOptionsBuilder","Restangular"],angular.module("app.admin_centrales").controller("AdminMensajerosController",e)}(),function(){"use strict";function e(e,o){function a(){i();var e="nit,nombre,telefonos,direccion,ciudad,n_mensajeros,barrio,horario,activa";o.all("/empresas?fields="+e).getList().then(function(e){r.empresas=e,angular.forEach(e,function(e){1==e.activa?r.empresasActivas++:r.empresasInactivas++,r.mensajeros+=e.n_mensajeros})})}function t(e){r.empresa=e,r.editMode=!1,$("#newEmpresa").modal("show")}function s(){r.editMode=!0,r.empresa={},$("#newEmpresa").modal("show")}function n(){l.post(r.empresa).then(function(e){a(),$("#newEmpresa").modal("hide")},function(e){401==e.status?e.data.mensajeError:"A ocurrido un error inesperado"})}function i(){r.empresas=[],r.empresa={}}var r=this,l=o.all("/empresas");r.empresas=[],r.empresa={},r.empresasActivas=0,r.empresasInactivas=0,r.mensajerosActivos=0,r.mensajerosInactivos=0,r.editMode=!0,r.verEmpresa=t,r.nuevaEmpresa=s,r.registrarEmpresa=n,r.dtOptions=e.fromSource().withLanguage({sEmptyTable:"No hay empresas registradas",sInfo:"Mostrando _START_ a _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando 0 a 0 de 0 registros",sInfoFiltered:"(filtrado desde _MAX_ registros)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Mostrar _MENU_ registros",sLoadingRecords:"Cargando...",sProcessing:"Procesando...",sSearch:"Buscar:",sZeroRecords:"No se encontraron registros que coincidar con la busqueda",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": activar para ordenar las columnas ascendente",sSortDescending:": activar para ordenar las columnas descendente"}}).withBootstrap(),a()}e.$inject=["DTOptionsBuilder","Restangular"],angular.module("app.admin_centrales").controller("AdminCentralesController",e)}(),function(){"use strict";angular.module("domigo",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","localytics.directives","commons","angular-jwt","restangular","datatables","datatables.bootstrap","datatables.buttons","app.auth","app.admin","app.central"])}(),function(){"use strict";function e(e,o){var a=this,t=o.currentUser();t&&(a.menu=e.getOf(t.rol))}e.$inject=["appMenu","authService"],angular.module("domigo").controller("MenuCtrl",e)}(),function(){"use strict";function e(e){function o(){sessionStorage.clear(),e.go("login")}var a=this;a.hoy=new Date,a.cerrarSesion=o}e.$inject=["$state"],angular.module("domigo").controller("LayoutController",e)}(),function(){"use strict";function e(){function e(o,s){if(o instanceof Array)for(var n=0;n<o.length;n++)e(o[n],s);else"all"!=s&&s||t.push(o),angular.isDefined(a[s])||(a[s]=[]),a[s].push(o)}function o(e){return a[e]?a[e].concat(t):t}var a=[],t=[];return{addTo:e,getOf:o}}angular.module("domigo").factory("appMenu",e)}(),function(){"use strict";angular.module("commons",[])}(),function(){"use strict";angular.module("commons").directive("uploaderModel",["$parse",function(e){return{restrict:"A",link:function(o,a,t){a.on("change",function(s){e(t.uploaderModel).assign(o,a[0].files[0])})}}}])}(),function(){"use strict";angular.module("commons").directive("ngEnter",function(){return function(e,o,a){o.bind("keydown keypress",function(o){13===o.which&&(e.$apply(function(){e.$eval(a.ngEnter)}),o.preventDefault())})}})}(),function(){"use strict";function e(){function e(e){var o=0,a=[];JSON.parse(sessionStorage.getItem("pedidos"))?(a=JSON.parse(sessionStorage.pedidos),o=a.length,console.log(o),a.push(e),sessionStorage["pedidos"[o]]=JSON.stringify(a)):(a[0]=e,sessionStorage.pedidos=JSON.stringify(a))}this.pedidos=function(){io.socket.on("newCall",function(o){console.log(o),e(o)})},this.suscribe=function(e){io.socket.request({method:"get",url:"/empresas/"+e+"/join_ws",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}},function(e){console.log(e)})}}angular.module("commons").service("SocketcSailsService",e)}(),function(){"use strict";angular.module("commons").filter("ifEmpty",function(){return function(e,o){return angular.isUndefined(e)||null===e||""===e?o:e}})}(),function(){"use strict";function e(e){return{restrict:"A",require:"ngModel",link:function(o,a,t,s){return e(function(){var e;return e=t.value,o.$watch(t.ngModel,function(e){$(a).iCheck("update")}),$(a).iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"}).on("ifChanged",function(n){return"checkbox"===$(a).attr("type")&&t.ngModel&&o.$apply(function(){return s.$setViewValue(n.target.checked)}),"radio"===$(a).attr("type")&&t.ngModel?o.$apply(function(){return s.$setViewValue(e)}):void 0})})}}}e.$inject=["$timeout"],angular.module("commons").directive("icheck",e)}(),function(){"use strict";function e(){return function(e,o){var a=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],t=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];return"full"==o?t[e.getDay()]+", "+e.getDate()+" de "+a[e.getMonth()]+" de "+e.getFullYear():"short"==o?e.getDate()+" de "+a[e.getMonth()]:void 0}}angular.module("commons").filter("esdate",e)}(),function(){"use strict";angular.module("commons").filter("cut",function(){return function(e,o,a,t){if(!e)return"";if(a=parseInt(a,10),!a)return e;if(e.length<=a)return e;if(e=e.substr(0,a),o){var s=e.lastIndexOf(" ");-1!=s&&(e=e.substr(0,s))}return e+(t||" …")}})}(),function(){"use strict";function e(e){e.state("login",{url:"/login",templateUrl:"app/auth/login.html",data:{noRequiresLogin:!0},controller:"LoginController",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("app.auth",[]).config(e)}(),function(){"use strict";function e(e,o,a){function t(){function o(o){var a=e.storeUser(o.token,o.user);s(a.rol)}function a(e){n.mensajeError=401==e.status?"Usuario y/o contraseña incorrectas, intentalo de nuevo":"Ha ocurrido un error inesperado"}n.mensajeError="",i.post(n.usuario).then(o,a)}function s(e){"SUPER_ADM"==e?o.go("app.admin-centrales"):"EMPRESA"==e?o.go("app.central-mensajeros"):"MENSAJERO"==e&&(n.mensajeError="Este usuario no tiene autorizacion para acceder al sistema del administrador, por favor comuniquese con soporte")}var n=this,i=a.all("/usuario/token");n.usuario={},n.mensajeError="",n.iniciarSesion=t,e.currentUser()&&s(e.currentUser().rol)}e.$inject=["authService","$state","Restangular"],angular.module("app.auth").controller("LoginController",e)}(),function(){"use strict";function e(){this.storeUser=function(e,o){sessionStorage.setItem("jwt",e);var a=o;return sessionStorage.setItem("usuario",JSON.stringify(o)),a},this.currentUser=function(){return JSON.parse(sessionStorage.getItem("usuario"))}}angular.module("app.auth").service("authService",e)}(),$(document).ready(function(){function e(){var e=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",e+"px");var o=$("nav.navbar-default").height(),a=$("#page-wrapper").height();o>a&&$("#page-wrapper").css("min-height",o+"px"),a>o&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&$("#page-wrapper").css("min-height",$(window).height()-60+"px")}$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small"),$("#side-menu").metisMenu(),$(".collapse-link").click(function(){var e=$(this).closest("div.ibox"),o=$(this).find("i"),a=e.find("div.ibox-content");a.slideToggle(200),o.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),e.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){e.resize(),e.find("[id^=map-]").resize()},50)}),$(".close-link").click(function(){var e=$(this).closest("div.ibox");e.remove()}),$(".fullscreen-link").click(function(){var e=$(this).closest("div.ibox"),o=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode"),o.toggleClass("fa-expand").toggleClass("fa-compress"),e.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)}),$(".close-canvas-menu").click(function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()}),$(".right-sidebar-toggle").click(function(){$("#right-sidebar").toggleClass("sidebar-open")}),$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10}),$(".open-small-chat").click(function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove"),$(".small-chat-box").toggleClass("active")}),$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:.4}),$(".check-link").click(function(){var e=$(this).find("i"),o=$(this).next("span");return e.toggleClass("fa-check-square").toggleClass("fa-square-o"),o.toggleClass("todo-completed"),!1}),$(".navbar-minimalize").click(function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()}),$(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"}),$(".modal").appendTo("body"),e(),$(window).bind("load",function(){$("body").hasClass("fixed-sidebar")&&$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})}),$(window).scroll(function(){$(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")?$("#right-sidebar").addClass("sidebar-top"):$("#right-sidebar").removeClass("sidebar-top")}),$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||e()}),$("[data-toggle=popover]").popover(),$(".full-height-scroll").slimscroll({height:"100%"})}),$(window).bind("resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")}),$(document).ready(function(){if(localStorageSupport){var e=localStorage.getItem("collapse_menu"),o=localStorage.getItem("fixedsidebar"),a=localStorage.getItem("fixednavbar"),t=localStorage.getItem("boxedlayout"),s=localStorage.getItem("fixedfooter"),n=$("body");"on"==o&&(n.addClass("fixed-sidebar"),$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})),"on"==e&&(n.hasClass("fixed-sidebar")?n.hasClass("body-small")||n.addClass("mini-navbar"):n.hasClass("body-small")||n.addClass("mini-navbar")),"on"==a&&($(".navbar-static-top").removeClass("navbar-static-top").addClass("navbar-fixed-top"),n.addClass("fixed-nav")),"on"==t&&n.addClass("boxed-layout"),"on"==s&&$(".footer").addClass("fixed")}}),function(){"use strict";function e(e,o,a,t){e.$on("$stateChangeStart",function(e,s){if(!s.data||!s.data.noRequiresLogin){var n=sessionStorage.getItem("jwt");if(!n||a.isTokenExpired(n))e.preventDefault(),o.go("login");else if(s.data&&s.data.onlyAccess){var i=t.currentUser();s.data.onlyAccess&&s.data.onlyAccess!=i.rol&&"all"!=s.data.onlyAccess&&(e.preventDefault(),o.go("login"))}}})}e.$inject=["$rootScope","$state","jwtHelper","authService"],angular.module("domigo").run(e)}(),function(){"use strict";function e(e,o,a,t,s){t.tokenGetter=function(e,o,a){var t=sessionStorage.getItem("jwt");return t?e.isTokenExpired(t)?o({url:a+"/new_token",skipAuthorization:!0,method:"GET",headers:{Authorization:"Bearer "+t}}).then(function(e){return sessionStorage.setItem("jwt",e.data.token),e.data.token},function(e){sessionStorage.removeItem("jwt")}):t:void 0},t.tokenGetter.$inject=["jwtHelper","$http","API"],s.interceptors.push("jwtInterceptor"),o.when("","/"),o.when("/","/login"),e.state("app",{url:"/app",templateUrl:"app/layout/layout.html",controller:"LayoutController",controllerAs:"vm"})}e.$inject=["$stateProvider","$urlRouterProvider","RestangularProvider","jwtInterceptorProvider","$httpProvider"],angular.module("domigo").config(e).constant("API","http://api.domigo.co")}(),angular.module("domigo").directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(o,a){o.$watch("authentication.user",function(){e(function(){a.metisMenu()})})}}}]).directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope",function(o){o.minimalize=function(){angular.element("body").toggleClass("mini-navbar"),!angular.element("body").hasClass("mini-navbar")||angular.element("body").hasClass("body-small")?(angular.element("#side-menu").hide(),e(function(){angular.element("#side-menu").fadeIn(400)},200)):angular.element("#side-menu").removeAttr("style")}}]}}]),function(){"use strict";function e(e){e.setBaseUrl("http://localhost:1337/"),e.addResponseInterceptor(function(e,o,a,t,s,n){var i;return i=e.data})}e.$inject=["RestangularProvider"],angular.module("domigo").config(e)}(),function(){"use strict";angular.module("app.central",["app.central_home","app.central_pedidos","app.central_mensajeros","app.central_pagos"])}(),function(){"use strict";angular.module("app.admin",["app.admin_centrales"])}(),angular.module("domigo").run(["$templateCache",function(e){e.put("app/auth/login.html",'<div class="full-width bg-domigo bg-login" id="container-login"><div class="middle-box text-center loginscreen animated fadeInDown"><div><div class="m-t" name="loginForm" novalidate=""><img src="../../assets/images/logo-login.png" style="width:70%;"><br><br><div class="row"><div class="col s12" style="text-align: center;color:#FFF;">{{vm.mensajeError}}</div></div><form class="form-domigo" name="loginForm" novalidate=""><div class="form-group"><input class="form-control form-control-domigo" type="text" ng-model="vm.usuario.username" name="username" placeholder="Usuario" required="" autofocus=""><div ng-messages="!loginForm.$pristine && loginForm.password.$error"><div ng-message="required" class="mensajes">Este campo es obligatorio.</div></div></div><hr><div class="form-group"><input class="form-control form-control-domigo" type="password" ng-model="vm.usuario.password" name="password" placeholder="Contrase&ntilde;a" required="" autofocus=""><div ng-messages="!loginForm.$pristine && loginForm.username.$error"><div ng-message="required" class="mensajes">Este campo es obligatorio.</div></div></div></form><br><button id="btn-inicio" ng-click="vm.iniciarSesion()" type="submit" class="full-width m-b btn-domigo" ng-disabled="!loginForm.$valid">Iniciar Sesion</button></div></div></div></div><script type="text/javascript">\r\n  $(document).ready(function($){\r\n  var ventana_alto = $(window).height();\r\n   $(\'#container-login\').css({\'height\':ventana_alto });\r\n});\r\n</script>'),e.put("app/layout/layout.html",'<nav class="navbar-default navbar-static-side" role="navigation" style="background-color:#FFFFFF;min-height:100%"><div class="sidebar-collapse"><ul class="nav metismenu" id="side-menu" ng-controller="MenuCtrl as vm"><li><img src="../../assets/images/logo_completo.png" style="width:100%;margin-top:9px;"></li><li ng-repeat="op in vm.menu" ui-sref="{{op.link}}" id="{{op.id}}" style="border-bottom:1px solid #000"><a href="javascript:;"><i class="{{op.icon}}" style="color:#DF1008;font-size:18px;"></i> <span class="nav-label">{{op.nombre}}</span></a></li></ul></div></nav><div id="page-wrapper" class="bg-domigo" style="min-height: 667px; border-left:3px solid #DF1008"><div class="row border-bottom"><nav class="navbar navbar-static-top navbar-domigo" role="navigation" style="margin-bottom: 0"><div class="navbar-header"><a class="navbar-minimalize minimalize-styl-2 btn btn-primary" href="javascript:;"><i class="fa fa-bars"></i></a></div><ul class="nav navbar-top-links navbar-right"><li><span class="m-r-sm text-muted welcome-message">Bienvenido a Domigo</span></li><li class="dropdown"><a class="dropdown-toggle count-info" data-toggle="dropdown" href="#"><i class="fa fa-envelope"></i> <span class="label label-warning">16</span></a></li><li class="dropdown"><a class="dropdown-toggle count-info" data-toggle="dropdown" href="#"><i class="fa fa-bell"></i> <span class="label label-primary">8</span></a></li><li><a href="javascript:;" ng-click="vm.cerrarSesion()"><i class="fa fa-sign-out"></i> Cerrar Sesion</a></li></ul></nav></div><div ui-view="" class=""></div></div>'),e.put("app/admin/gestion-centrales/admin-centrales.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="col-lg-12"><div class="ibox float-e-margin"><div class="ibox-title radio-title"><div class="row"><div class="col-lg-7"><h2>Lista de Empresas</h2></div><div class="col-lg-3"><div class="input-group"><input type="text" placeholder="Buscador" class="input-sm form-control buscador-domigo" ng-model="filtro"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary"><i class="fa fa-search"></i></button></span></div></div><div class="col-lg-2" style="text-align: right"><button type="button" class="btn btn-sm btn-primary" ng-click="vm.nuevaEmpresa()"><i class="fa fa-plus"></i> Empresa</button></div></div></div><div class="ibox-content radio-body" style="border-top:0"><div class="row"><div class="col-lg-12"><table class="table" dt-options="vm.dtOptions"><thead><th>Nit</th><th>Nombre</th><th>Telefono</th><th>Ciudad</th><th>Direccion</th><th># Mensajeros</th><th>Opciones</th></thead><tbody><tr ng-repeat="empresa in vm.empresas | filter : filtro"><td>{{empresa.nit}}</td><td>{{empresa.nombre}}</td><td>{{empresa.telefonos[0]}}</td><td>{{empresa.ciudad}}</td><td>{{empresa.direccion}}</td><td style="text-align: center"><span class="label label-warning" style="font-size:12px">{{empresa.n_mensajeros}}</span></td><td><button ng-click="vm.verEmpresa(empresa)" type="button" class="btn btn-sm btn-success" title="Ver y Editar"><i class="fa fa-eye"></i></button> <a class="btn btn-sm btn-danger" title="Ver Mensajeros" ui-sref="app.admin-centrales-mensajeros({ id:empresa.id, nombre:empresa.nombre })"><i class="fa fa-group"></i></a> <button ng-if="empresa.activa == false" type="button" class="btn btn-sm btn-primary" title="Activar"><i class="fa fa-thumbs-down"></i></button> <button ng-if="empresa.activa == true" type="button" class="btn btn-sm btn-warning" title="Desactivar"><i class="fa fa-thumbs-up"></i></button></td></tr></tbody></table></div></div></div></div></div><div id="newEmpresa" class="modal inmodal in fade" role="dialog"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button> <i class="fa fa-home modal-icon"></i><h4 class="modal-title">Registro de Empresas</h4></div><div class="modal-body"><form name="empresaForm"><div class="row"><div class="col-lg-4"><div class="input-group"><label>Nit:</label> <input type="text" ng-model="vm.empresa.nit" class="input-sm form-control" required=""></div><div class="input-group"><label>Nombre :</label> <input type="text" ng-model="vm.empresa.nombre" class="input-sm form-control" required=""></div></div><div class="col-lg-4"><div class="input-group"><label>Direccion:</label> <input type="text" ng-model="vm.empresa.direccion" class="input-sm form-control" required=""></div><div class="input-group"><label>Ciudad:</label><select ng-model="vm.empresa.ciudad" class="input-sm form-control" required=""><option></option><option value="CODAZZI">CODAZZI</option><option value="SAN DIEGO">SAN DIEGO</option><option value="BECERRIL">BECERRIL</option><option value="LA VICTORIA">LA VICTORIA</option><option value="LA JAGUA DE IBIRICO">LA JAGUA DE IBIRICO</option><option value="EL DESASTRE">EL DESASTRE</option><option value="LOS BRASILES">LOS BRASILES</option><option value="LLERASCA">LLERASCA</option><option value="PAILITAS">PAILITAS</option><option value="RINCON HONDO">RINCON HONDO</option><option value="LA LOMA">LA LOMA</option><option value="CHIRIGUANA">CHIRIGUANA</option><option value="LA GLORIA">LA GLORIA</option><option value="VALLEDUPAR">VALLEDUPAR</option><option value="LA PAZ">LA PAZ</option><option value="CURUMANI">CURUMANI</option></select></div></div><div class="col-lg-4"><div class="input-group"><label>Barrio:</label> <input type="text" ng-model="vm.empresa.barrio" class="input-sm form-control" required=""></div><div class="input-group"><label>Teléfono:</label> <input type="text" ng-model="vm.empresa.telefonos" class="input-sm form-control" required=""></div></div></div><div class="row"><div class="col-lg-4"><div class="input-group"><label>Horario de atención:</label> <input type="text" ng-model="vm.empresa.horario" class="input-sm form-control" required=""></div></div></div><div class="row" ng-if="vm.editMode != false"><fieldset><legend style="text-align: center">Datos de usuario</legend><div class="col-lg-2"><p></p></div><div class="col-lg-4"><div class="input-group"><label>Nombre de usuario:</label> <input type="text" ng-model="vm.empresa.usuario.username" class="input-sm form-control" required=""></div></div><div class="col-lg-4"><div class="input-group"><label>Contrase&ntilde;a:</label> <input type="password" ng-model="vm.empresa.usuario.password" class="input-sm form-control" required=""></div></div></fieldset></div></form></div><div class="modal-footer"><button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button> <button ng-show="vm.editMode" type="button" class="btn btn-primary" ng-click="vm.registrarEmpresa();" ng-disabled="!empresaForm.$valid">Registrar</button> <button ng-hide="vm.editMode" type="button" class="btn btn-primary" ng-click="vm.editarEmpresa();" ng-disabled="!empresaForm.$valid">Modificar</button></div></div></div></div></div>'),
e.put("app/admin/gestion-centrales/admin-mensajeros.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title radio-title"><div class="row"><div class="col-lg-1"><br><a href="javascript:;" ui-sref="app.admin-centrales" style="color: black"><i class="fa fa-arrow-left"></i> VOLVER</a></div><div class="col-lg-8"><h2>{{vm.nombreEmpresa}}: Mensajeros</h2></div><div class="col-lg-3"><div class="input-group"><input type="text" placeholder="Buscador" class="input-sm form-control buscador-domigo" ng-model="filtro"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary"><i class="fa fa-search"></i></button></span></div></div></div><div class="hr-line-dashed"></div></div><div class="ibox-content radio-body" style="border-top:0"><div class="row"><div class="col-lg-12"><table id="mensajerosTable" class="table" dt-options="vm.dtOptions"><thead><tr><th>#</th><th>Nombre</th><th>Telefono</th><th>Email</th><th>Direccion</th><th>Opciones</th></tr></thead><tbody><tr ng-repeat="mensajero in vm.mensajeros | filter: filtro"><td>{{$index+1}}</td><td>{{mensajero.nombre}} {{mensajero.apellido}}</td><td>{{mensajero.telefonos[0]}}</td><td>{{mensajero.email}}</td><td>{{mensajero.direccion}}</td><td><button ng-click="vm.verMensajero(mensajero)" type="button" class="btn btn-sm btn-success" title="Ver y Editar"><i class="fa fa-eye"></i></button> <button type="button" class="btn btn-sm btn-primary" title="Desactivar"><i class="fa fa-thumbs-down"></i></button></td></tr></tbody></table></div></div></div></div></div><div id="newMensajero" class="modal inmodal in fade" role="dialog"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button> <i class="fa fa-child modal-icon"></i><h4 class="modal-title">Datos del Mensajero</h4></div><div class="modal-body"><div class="row"><div class="col-lg-4"><div class="input-group"><label>Nombre :</label> <input type="text" ng-model="vm.mensajero.nombre" class="input-sm form-control"></div><div class="input-group"><label>Telefono:</label> <input type="text" ng-model="vm.mensajero.telefono" class="input-sm form-control"></div><div class="input-group"><label>Direccion:</label> <input type="text" ng-model="vm.mensajero.direccion" class="input-sm form-control"></div></div></div><div class="modal-footer"><button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button> <button type="button" class="btn btn-primary" ng-click="registrarEmpresa();">Registrar</button></div></div></div></div></div></div>'),e.put("app/centrales/gestion-mensajeros/central-mensajeros.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="ibox float-e-margins"><div class="ibox-title"><div class="row"><div class="col-lg-12"><div class="btn-group"><button class="btn btn-primary" type="button" ng-click="vm.cargarMensajerosActivos()">Activos <span class="badge badge-warning">{{vm.mensajerosActivos}}</span></button> <button class="btn btn-white" type="button" ng-click="vm.cargarMensajerosAusentes()">Ausentes <span class="badge badge-warning">{{vm.mensajerosAusentes}}</span></button> <button class="btn btn-white" type="button" ng-click="vm.cargarMensajerosBloqueados()">Sancionados <span class="badge badge-warning">{{vm.mensajerosBloqueados}}</span></button></div></div><br><br><br><div class="col-lg-7"><h2>{{vm.texto}}</h2></div><div class="col-lg-3"><div class="input-group"><input type="text" placeholder="Buscador" class="input-sm form-control buscador-domigo" ng-model="filtro"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary"><i class="fa fa-search"></i></button></span></div></div><div class="col-lg-1"><button type="button" class="btn btn-sm btn-primary" ng-click="vm.newMensajero()"><i class="fa fa-plus"></i> Mensajero</button></div></div><div class="hr-line-dashed"></div></div><div class="ibox-content" style="border-top:0"><div class="row"><div class="col-lg-12"><div ng-if="vm.mensajeros.length <= 0" style="text-align: center"><h2>No se registran mensajeros en esta seccion</h2></div><div ng-if="vm.mensajeros.length > 0"><table id="mensajerosTable" class="table" dt-options="vm.dtOptions"><thead><tr><th>#</th><td></td><th>Cedula</th><th>Nombre</th><th>Telefono</th><th>Email</th><th>Direccion</th><th>Placa</th><th>Opciones</th></tr></thead><tbody><tr ng-repeat="mensajero in vm.mensajeros | filter: filtro | orderBy : \'nombre\'"><td>{{$index+1}}</td><td><img ng-src="http://api.domigo.co/images/mensajeros/{{mensajero.fotografia}}" class="img-circle" width="40px;" height="40px"></td><td>{{mensajero.cedula}}</td><td>{{mensajero.nombre}} {{mensajero.apellidos}}</td><td>{{mensajero.telefonos[0]}}</td><td>{{mensajero.email}}</td><td>{{mensajero.direccion}}</td><td>{{mensajero.vehiculo}}</td><td><button ng-click="vm.verMensajero(mensajero)" class="btn btn-sm btn-outline btn-success dim" type="button"><i class="fa fa-eye"></i></button></td></tr></tbody></table></div></div></div></div></div></div><div id="newMensajero" class="modal inmodal in face" role="dialog"><div class="modal-dialog modal-lg"><form name="mensajeroForm" novalidate=""><div class="modal-content"><div class="modal-header"><h2>Registro de Mensajero</h2></div><div class="modal-body"><div class="row"><div class="col-lg-4"><div class="form-group"><label class="control-label">Cedula:</label><br><input ng-model="vm.mensajero.cedula" name="cedula" type="number" min="0" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.cedula.$touched"><span ng-show="mensajeroForm.cedula.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Nombres:</label><br><input name="nombres" ng-model="vm.mensajero.nombre" type="text" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.nombres.$touched"><span ng-show="mensajeroForm.nombres.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Apellidos:</label><br><input name="apellidos" ng-model="vm.mensajero.apellidos" type="text" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.apellidos.$touched"><span ng-show="mensajeroForm.apellidos.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Fecha de nacimiento:</label><br><input name="fnacimiento" ng-model="vm.mensajero.fecha_nacimiento" type="date" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.fnacimiento.$touched"><span ng-show="mensajeroForm.fnacimiento.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Sexo:</label><br><select name="sexo" ng-model="vm.mensajero.sexo" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><option value="M">M</option><option value="F">F</option></select><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.sexo.$touched"><span ng-show="mensajeroForm.sexo.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Fecha de expedicion de la licencia de conduccion:</label><br><input name="felicencia" ng-model="vm.mensajero.fecha_expedicion_licencia" type="date" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.felicencia.$touched"><span ng-show="mensajeroForm.felicencia.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Numero de licencia:</label><br><input name="nlicencia" ng-model="vm.mensajero.licencia_conducion" type="number" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.nlicencia.$touched"><span ng-show="mensajeroForm.nlicencia.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Placa del vehiculo:</label><br><input name="pvehiculo" ng-model="vm.mensajero.vehiculo" type="text" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.pvehiculo.$touched"><span ng-show="mensajeroForm.pvehiculo.$error.required">El campo es obligatorio.</span></div></div></div><div class="col-lg-4"><div class="form-group"><label class="control-label">Direccion:</label><br><input name="direccion" ng-model="vm.mensajero.direccion" type="text" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.direccion.$touched"><span ng-show="mensajeroForm.direccion.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Barrio:</label><br><input name="barrio" ng-model="vm.mensajero.barrio" type="text" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.barrio.$touched"><span ng-show="mensajeroForm.barrio.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Ciudad:</label><br><input name="ciudad" ng-model="vm.mensajero.ciudad" type="text" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.ciudad.$touched"><span ng-show="mensajeroForm.ciudad.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Telefono:</label><br><input name="telefono" ng-model="vm.mensajero.telefonos" type="number" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.telefono.$touched"><span ng-show="mensajeroForm.telefono.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Email:</label><br><input name="email" ng-model="vm.mensajero.email" type="email" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.email.$touched"><span ng-show="mensajeroForm.email.$error.required">El campo es obligatorio.</span> <span ng-show="mensajeroForm.email.$error.email">Formato de email incorrecto.</span></div></div><div class="form-group"><label class="control-label">Fecha de vencimiento de la licencia de conduccion:</label><br><input name="fvlicencia" ng-model="vm.mensajero.fecha_vencimiento_licencia" type="date" class="form-control" ng-model-options="{ updateOn: \'blur\' }" required=""><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.fvlicencia.$touched"><span ng-show="mensajeroForm.fvlicencia.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><label class="control-label">Categoria de licencia:</label><br><select ng-model="vm.mensajero.licencia_tipo" class="form-control" name="clicencia" required=""><option value="A1" title="Motos con cilindrada hasta de 125 c.c.">A1</option><option value="A2" title="Motos, motociclos y mototriciclos con cilindrada mayor a 125 c.c.">A2</option><option value="B1" title="Automóviles, motocarros, cuatrimotos, camperos, camionetas y microbuses.">B1</option><option value="B2" title="Camiones rígidos, busetas y buses.">B2</option><option value="B3" title="Vehículos articulados.">B3</option><option value="C1" title="Para la conducción de automóviles, camperos, camionetas y microbuses.">C1</option><option value="C2" title="Para la conducción de camiones rígidos, busetas y buses.">C2</option><option value="C3" title="Para la conducción de vehículos articulados.">C3</option><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.clicencia.$touched"><span ng-show="mensajeroForm.clicencia.$error.required">El campo es obligatorio.</span></div></select></div></div><div class="col-lg-4"><div class="ibox-content text-center"><div class="m-b-sm" id="image"><img style="width: 200px; height: 200px" id="imagenlogo" alt="image" class="img-circle" src="http://{{vm.mensajero.fotografia}}"></div><div class="text-center"><div class="col-lg-12" style="border: none"><input id="files" uploader-model="vm.fotografia" type="file"></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button> <input type="submit" class="btn btn-primary" value="Registrar" ng-click="vm.guardarMensajero();" ng-disabled="mensajeroForm.$invalid"></div></div></form></div></div><div id="verMensajero" class="modal inmodal in fade" role="dialog"><div class="modal-dialog modal-lg" style="min-width:100%;"><div class="modal-content"><div class="modal-body"><div class="row"><div class="col-lg-3"><div class="widget-head-color-box bg-domigo p-lg text-center"><div class="m-b-md"><h2 class="font-bold no-margins text-white">{{vm.mensajero.nombre}} {{vm.mensajero.apellidos}}</h2><small class="text-white">Mensajero</small></div><img style="height: 140px; width: 140px" ng-src="http://localhost:1337/images/mensajeros/{{vm.mensajero.fotografia}}" class="img-circle circle-border m-b-md" alt="profile"><div class="text-white"><span>Calificacion</span> <span>80%</span><br><div ng-if="vm.mensajero.condicion == \'ausente\'" class="badge badge-danger">INACTIVO</div><div ng-if="vm.mensajero.condicion == \'activo\'" class="badge badge-primary">ACTIVO</div><div ng-if="vm.mensajero.condicion == \'sancionado\'" class="badge badge-warning">SANCIONADO</div></div></div><div class="widget-text-box"><label style="color:#000">Cedula:</label> {{vm.mensajero.cedula}}<br><label style="color:#000">Telefono:</label> {{vm.mensajero.telefonos}}<br><label style="color:#000">Email:</label> {{vm.mensajero.email}}<br><label style="color:#000">Direccion:</label> {{vm.mensajero.direccion}}<br><label style="color:#000">Placa:</label> {{vm.mensajero.vehiculo}}<br><br><div class="center"><a ng-if="vm.mensajero.condicion == \'ausente\'" class="btn btn-xs btn-success" style="text-transform:capitalize;" ng-click=""><i class="fa fa-unlock">Activar</i></a><a ng-if="vm.mensajero.condicion == \'sancionado\'" class="btn btn-xs btn-success" style="text-transform:capitalize;" ng-click="vm.desbloquearMensajero(vm.mensajero)"><i class="fa fa-unlock">Desbloquear</i></a> <a ng-if="vm.mensajero.condicion != \'sancionado\'" class="btn btn-xs btn-primary" style="text-transform:capitalize;" ng-click="vm.bloquearMensajero(vm.mensajero)"><i class="fa fa-legal">Sancionar</i></a> <a class="btn btn-xs" style="background-color:#00695c;color:#FFF;text-transform:capitalize;" ng-click="vm.addListaNegra()"><i class="fa fa-trash"></i> Lista Negra</a></div></div></div><div class="col-lg-2"><div class="row"><div class="col-lg-12"><div class="widget yellow-bg p-lg text-center"><div class="m-b-md"><i class="fa fa-thumbs-up fa-4x"></i><h1 class="m-xs">30</h1><h3 class="font-bold no-margins">Exitosos</h3><small>Servicios</small></div></div></div><div class="col-lg-12"><div class="widget p-lg text-center" style="background-color:#00695C"><div class="m-b-md text-white"><i class="fa fa-thumbs-down fa-4x"></i><h1 class="m-xs">6</h1><h3 class="font-bold no-margins">RECHAZADOS</h3><small>Servicios</small></div></div></div></div></div><div class="col-lg-7"><div class="row"><div class="col-lg-6"><h2>Historial de servicios</h2></div><div class="col-lg-4"><div class="input-group" style="margin-top:20px"><input type="text" placeholder="Buscador" class="input-sm form-control buscador-domigo" ng-model="filtro"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary"><i class="fa fa-search"></i></button></span></div></div><div class="col-lg-2"><h2 class="badge badge-primary" style="font-size:36px; margin-top:10px;background-color:#DF1008">36</h2></div></div><table class="table table-striped"><thead></thead><td>Cliente</td><th>fecha</th><th>Origen</th><th>Destino</th><th>Tipo Servicio</th><td>estado</td><tbody><tr><td>Jose Luis Soto</td><td>21-02-2016</td><td>calle 18 #20-40</td><td>Banco Bogota</td><td>Consignacion</td><td><span class="badge badge-primary bg-domigo">terminado</span></td></tr><tr><td>Jose Luis Soto</td><td>21-02-2016</td><td>calle 18 #20-40</td><td>Banco Bogota</td><td>Consignacion</td><td><span class="badge badge-primary bg-domigo">terminado</span></td></tr><tr><td>Jose Luis Soto</td><td>21-02-2016</td><td>calle 18 #20-40</td><td>Banco Bogota</td><td>Consignacion</td><td><span class="badge badge-primary bg-domigo">terminado</span></td></tr><tr><td>Jose Luis Soto</td><td>21-02-2016</td><td>calle 18 #20-40</td><td>Banco Bogota</td><td>Consignacion</td><td><span class="badge badge-primary bg-domigo">terminado</span></td></tr><tr><td>Jose Luis Soto</td><td>21-02-2016</td><td>calle 18 #20-40</td><td>Banco Bogota</td><td>Consignacion</td><td><span class="badge badge-primary bg-domigo">terminado</span></td></tr></tbody></table></div></div></div><div class="modal-footer"><button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button></div></div></div></div><script>\r\n    $(document).ready(function () {\r\n        function archivo(evt) {\r\n            var files = evt.target.files; // FileList object\r\n\r\n            //Obtenemos la imagen del campo "file".\r\n            for (var i = 0, f; f = files[i]; i++) {\r\n                //Solo admitimos imágenes.\r\n                if (!f.type.match(\'image.*\')) {\r\n                    continue;\r\n                }\r\n\r\n                var reader = new FileReader();\r\n\r\n                reader.onload = (function (theFile) {\r\n                    return function (e) {\r\n                        // Creamos la imagen.\r\n                        //document.getElementById("image").innerHTML = [\'<img class="thumb" style="width:100%" src="\', e.target.result, \'" title="\', escape(theFile.name), \'"/>\'].join(\'\');\r\n                        document.getElementById(\'imagenlogo\').src = e.target.result;\r\n//                        document.getElementById("imagenlogo").innerHTML = [\'<img class="center" style="width:300px; height: 300px; border-radius: 50%; position: absolute; left: 0; top: 0" src="\', e.target.result, \'" title="\', escape(theFile.name), \'"/>\'].join(\'\');\r\n                    };\r\n                })(f);\r\n                reader.readAsDataURL(f);\r\n            }\r\n        }\r\n\r\n        document.getElementById(\'files\').addEventListener(\'change\', archivo, false);\r\n\r\n        $(\':file\').change(function () {\r\n            //obtenemos un array con los datos del archivo\r\n            var file = $("#files")[0].files[0];\r\n            //obtenemos el nombre del archivo\r\n            var fileName = file.name;\r\n            //obtenemos la extensión del archivo\r\n            //document.getElementById("nombreImagen").value=fileName;\r\n            fileExtension = fileName.substring(fileName.lastIndexOf(\'.\') + 1);\r\n            //obtenemos el tamaño del archivo\r\n            var fileSize = file.size;\r\n            //obtenemos el tipo de archivo image/png ejemplo\r\n            var fileType = file.type;\r\n\r\n            $("#cambiar").show();\r\n            //mensaje con la información del archivo\r\n            // alert("<span class=\'info\'>Archivo para subir: "+fileName+", peso total: "+fileSize+" bytes.</span>");\r\n        });\r\n    });\r\n</script>'),e.put("app/centrales/gestion-pagos/central-pagos.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="ibox float-e-margins"><div class="ibox-title"><div class="row"><div class="col-lg-12"><h1>Gestion de Pagos</h1></div></div></div><div class="ibox-content" style="border-top:0"><div class="row"><div class="col-lg-3"><label>Buscar Mensajero:</label><div class="input-group"><input type="text" placeholder="Nº de Documento" class="input-sm form-control buscador-domigo" ng-model="vm.buscar"> <span class="input-group-btn"><button ng-click="vm.cargarMensajero()" type="button" class="btn btn-sm btn-primary"><i class="fa fa-search"></i></button></span></div></div></div><div class="row" ng-repeat="mensajero in vm.mensajero"><div class="col-lg-4"><div class="widget style1 bg-domigo text-white"><div class="row"><div class="col-xs-4"><img ng-src="http://localhost:1337/images/mensajeros/{{mensajero.fotografia}}" class="img-circle circle-border m-b-md" alt="profile" width="60px" height="60px" style="border:4px solid #FFF"></div><div class="col-xs-8 text-right"><span>{{mensajero.nombre}} {{mensajero.apellidos}}</span><h4>C.C: {{mensajero.cedula}}</h4></div></div></div><br><h3>Nuevo Ingreso</h3><br><form name="pagosForm"><div class="form-group"><label class="control-label">Fecha de pago</label><br><input ng-model="vm.mensajero.fecha_pago" type="date" class="form-control" required=""></div><div class="form-group"><label class="control-label">Valor</label><br><input ng-model="vm.mensajero.valor" type="number" class="form-control" required=""></div><div class="form-group"><label class="control-label">Concepto:</label><br><select ng-model="vm.mensajero.concepto" class="form-control" required=""><option value="0">Planilla</option><option value="1">Ahorro</option><option value="2">Prestamo</option></select></div><input ng-click="vm.guardarPago()" type="submit" class="btn btn-primary" value="Guardar Pago" ng-disabled="pagosForm.$invalid"></form></div><div class="col-lg-8"><h3>Historial de pagos</h3><table class="table table-striped"><thead></thead><td>Id</td><th>fecha</th><th>Valor</th><th>Concepto</th><tbody><tr><td>1</td><td>21-02-2016</td><td>30000</td><td><span class="badge badge-primary bg-domigo">Planilla</span></td></tr><tr><td>2</td><td>23-02-2016</td><td>10000</td><td><span class="badge badge-warning">Ahorro</span></td></tr><tr><td>3</td><td>21-02-2016</td><td>30000</td><td><span class="badge badge-primary bg-domigo">Planilla</span></td></tr><tr><td>4</td><td>21-02-2016</td><td>30000</td><td><span class="badge badge-primary bg-domigo">Planilla</span></td></tr><tr><td>5</td><td>02-02-2016</td><td>60000</td><td><span class="badge badge-success">Prestamo</span></td></tr></tbody></table></div></div></div></div></div>'),e.put("app/centrales/gestion-pedidos/central-pedidos.html",'<style>\n    .typeahead-demo .custom-popup-wrapper {\n        position: absolute;\n        top: 100%;\n        left: 0;\n        z-index: 1000;\n        display: none;\n        background-color: #f9f9f9;\n    }\n</style><script type="text/ng-template" id="customTemplate.html"><a href="javascript:;" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a></script><div class="wrapper wrapper-content animated fadeIn"><div class="ibox float-e-margins"><div class="ibox-title"><div class="row"><div class="col-lg-12"><h1>Nuevos Pedidos</h1></div></div></div><div class="ibox-content" style="border-top:0"><div class="row"><div class="col-lg-9"><ul class="sortable-list connectList agile-list ui-sortable" id="inprogress"><li style="border:1px solid #DF1008;" class="col-lg-4" ng-repeat="cliente in vm.clientes track by $index" ng-mouseover="vm.selectPedido(cliente.cliente)"><form name="pedidoForm"><h4>Solicitud # {{$index+1}}</h4><hr><div><label><input ng-value="\'particular\'" ng-checked="cliente.cliente.tipo == \'particular\'" type="radio" name="tipoCliente" ng-model="cliente.cliente.tipo" required=""> Particular</label></div><div><label><input ng-value="\'empresa\'" ng-checked="cliente.cliente.tipo != \'particular\'" type="radio" name="tipoCliente" ng-model="cliente.cliente.tipo" required=""> Empresa</label></div><input ng-min="0" value="{{cliente.cliente.telefono }}" type="number" placeholder="Telefono" id="exampleInputEmail2" class="form-control" style="margin-top:3px;" ng-model="cliente.cliente.telefono" required=""> <input value="{{cliente.cliente.nombre}}" type="text" placeholder="Nombres" id="exampleInputEmail2" class="form-control" ng-model="cliente.cliente.nombre" style="margin-top:3px;" required=""><div class="input-group"><input class="form-control" style="margin-top: 3px" type="text" ng-model="cliente.direccion_origen" placeholder="Direccion de origen" uib-typeahead="direccion for direccion in vm.dorigens | filter:$viewValue" typeahead-template-url="customTemplate.html" typeahead-show-hint="true" typeahead-min-length="0" ng-init="vm.cargarDireccionesOrigen(cliente.cliente.id, \'origen\')" required=""> <span class="input-group-btn"><button type="button" class="btn btn-primary" style="margin-top: 3px"><i class="fa fa-search"></i></button></span></div><div class="input-group"><input style="margin-top: 3px" type="text" ng-model="cliente.direccion_destino" placeholder="Direccion de destino" uib-typeahead="direccion for direccion in vm.ddestinos | filter:$viewValue" typeahead-template-url="customTemplate.html" class="form-control" typeahead-show-hint="true" typeahead-min-length="0" ng-init="vm.cargarDireccionesDestino(cliente.cliente.id, \'destino\')" required=""> <span class="input-group-btn"><button type="button" class="btn btn-primary" style="margin-top: 3px"><i class="fa fa-search"></i></button></span></div><div style="margin-top:3px;"><small>Tipo de Servicio</small><select class="form-control m-b" name="account" ng-model="cliente.tipo" required=""><option value="" disabled="">Selecciona el tipo del servicio</option><option value="1">Comida rapida ida y vuelta</option><option value="2">Acompanamiento de consignacion bancaria</option><option value="3">Pago de factura en banco</option></select></div><input type="text" placeholder="Descripcion del pedido" class="form-control" style="margin-top:3px;" ng-model="cliente.descripcion" required=""><div style="text-align: center"><button ng-disabled="pedidoForm.$invalid" ng-click="vm.guardarPedido($index)" class="btn btn-danger dim" style="margin-top:5px;margin-left:5px; text-align: center" type="submit"><i class="fa fa-check"></i>Registrar</button></div></form></li></ul></div><div class="col-lg-3"><h4>Mensajeros Disponibles</h4><table class="table table-striped"><thead><tr><th></th><th>Nombre</th><th>telefono</th><th>Opcion</th></tr></thead><tbody><tr ng-repeat="mensajero in vm.mensajeros | orderBy : \'nombre\'"><td></td><td>{{mensajero.nombre}}</td><td>{{mensajero.telefonos[0]}}</td><th><a href="javascript:;" ng-click="vm.selectMensajero(mensajero)">select</a></th></tr></tbody></table></div></div></div></div></div>'),e.put("app/centrales/home/home.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="row"><div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Informacion de mensajeros</h5></div><div class="ibox-content"><div class="row"><div class="col-lg-6"><table class="table"><tbody><tr><td><button type="button" class="btn btn-danger m-r-sm">12</button> Total En servicio</td><td><button type="button" class="btn btn-primary m-r-sm">28</button> Inactivos</td></tr><tr><td><button type="button" class="btn btn-info m-r-sm">20</button> Total Disponibles</td><td><button type="button" class="btn btn-success m-r-sm">40</button> Sancionados</td></tr><tr><td><button type="button" class="btn btn-warning m-r-sm">20</button> Ocupados</td><td><button type="button" class="btn btn-default m-r-sm">40</button> lista Negra</td></tr></tbody></table></div><div class="col-lg-6"><table class="table table-striped"><thead><tr><th>#</th><th></th><th>Cedula</th><th>Nombre</th><th>Opion</th></tr></thead><tbody><tr><td>2</td><td></td><td>10656545878</td><td>Juan</td><th><a href="">Ver</a></th></tr><tr><td>3</td><td></td><td>10656545878</td><td>Pedro</td><th><a href="">Ver</a></th></tr><tr><td>4</td><td></td><td>10656545878</td><td>Jose</td><th><a href="">Ver</a></th></tr></tbody></table></div></div></div></div></div></div><div class="row"><div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Estadisticas servicios</h5><div class="pull-right"><div class="btn-group"><button type="button" class="btn btn-xs btn-white active">Hoy</button> <button type="button" class="btn btn-xs btn-white">Mes</button> <button type="button" class="btn btn-xs btn-white">Anual</button></div></div></div><div class="ibox-content"><div class="row"><div class="col-lg-9"></div><div class="col-lg-3"><ul class="stat-list"><li><h2 class="no-margins">26</h2><small>Total hoy</small><div class="progress progress-mini"><div style="width: 48%;" class="progress-bar"></div></div></li><li><h2 class="no-margins">1620</h2><small>Total Mes</small><div class="progress progress-mini"><div style="width: 60%;" class="progress-bar"></div></div></li><li><h2 class="no-margins">16652</h2><small>total Año</small><div class="progress progress-mini"><div style="width: 22%;" class="progress-bar"></div></div></li></ul></div></div></div></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-0b9a0d0604.js.map
