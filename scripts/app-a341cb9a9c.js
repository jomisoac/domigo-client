/**
 * Created by Jose Soto
 * on 9/06/2016.
 */
function localStorageSupport(){return"localStorage"in window&&null!==window.localStorage}function animationHover(e,o){e=$(e),e.hover(function(){e.addClass("animated "+o)},function(){window.setTimeout(function(){e.removeClass("animated "+o)},2e3)})}function SmoothlyMenu(){!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},300)):$("#side-menu").removeAttr("style")}function WinMove(){var e="[class*=col]",o=".ibox-title",t="[class*=col]";$(e).sortable({handle:o,connectWith:t,tolerance:"pointer",forcePlaceholderSize:!0,opacity:.8}).disableSelection()}!function(){"use strict";function e(e){e.state("app.gestion-pedidos",{url:"/central/pedidos",templateUrl:"app/centrales/gestion-pedidos/central-pedidos.html",data:{onlyAccess:"EMPRESA"},controller:"CentralPedidosController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Nuevos Pedidos",link:"app.gestion-pedidos",icon:"fa fa-dropbox"}],"EMPRESA")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.central_pedidos",[]).config(e).run(o)}(),function(){"use strict";function e(){}angular.module("app.central_pedidos").controller("ConsultarPedidosController",e)}(),function(){"use strict";function e(e){e.state("app.home",{url:"/home/",templateUrl:"app/centrales/home/home.html",data:{onlyAccess:"EMPRESA"},controller:"HomeController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Home",link:"app.home",icon:"fa fa-home"}],"EMPRESA")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.central_home",[]).config(e).run(o)}(),function(){"use strict";function e(){}angular.module("app.central_home").controller("HomeController",e)}(),function(){"use strict";function e(e,o,t){o.descripcion=t,o.ok=function(){e.close(o.descripcion)},o.cancel=function(){e.dismiss("cancel")}}e.$inject=["$uibModalInstance","$scope","descripcion"],angular.module("app.central_pedidos").controller("modalDescripcionController",e)}(),function(){"use strict";function e(e,o,t,a,s){function n(e){v.selectedPedido=e}function i(){$("#modalDescripcion").modal("show")}function r(e){v.selectedMensajero=e,v.selectedCantidadMensajeros(v.selectedMensajero)}function l(e,o){io.socket.request({method:"get",url:"/clientes/"+e+"/direcciones_frecuentes?direccion="+o,headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}},function(e){v.dorigens=e.data})}function c(e,o){io.socket.request({method:"get",url:"/clientes/"+e+"/direcciones_frecuentes?direccion="+o,headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}},function(e){v.ddestinos=e.data})}function d(){v.mensajeros=[];var o="condicion,nombre,apellidos,telefonos,cedula,id";e.service("mensajeros?fields="+o,e.one("empresas",t.currentUser().empresa.id)).getList({condicion:"activo",estado:1}).then(function(e){v.mensajeros=e})}function m(){v.mensajerosOcupados=[];var o="condicion,nombre,apellidos,telefonos,cedula,id";e.service("mensajeros?fields="+o,e.one("empresas",t.currentUser().empresa.id)).getList({condicion:"activo",estado:0}).then(function(e){v.mensajerosOcupados=e})}function p(e){if(v.selectedMensajero&&v.selectedPedido&&v.mensajerosS.length>0){var o=v.clientes[e];o.mensajeros=v.mensajerosS,o.empresa=t.currentUser().empresa.id,"empresa"==o.cliente.tipo||"particular"==o.cliente.tipo?io.socket.request({method:"post",url:"/domicilios",data:o,headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}},function(o){v.selectedMensajero={},v.mensajerosS=[],swal("Se registro el pedido correctamente"),v.clientes.splice(e,1),sessionStorage.setItem("pedidos",JSON.stringify(v.clientes)),setTimeout(d(),2e3),setTimeout(m(),2e3)}):swal("No has seleccionado el tipo de cliente Empresa/Particular")}else swal("No ha seleccionado ninguna mensajero para registrar el pedido")}function u(e){v.clientes[e];swal({title:"Estas seguro?",text:"Estas intentando eliminar un pedido!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",cancelButtonText:"No",confirmButtonText:"Si",closeOnConfirm:!1},function(){v.clientes.splice(e,1),sessionStorage.setItem("pedidos",JSON.stringify(v.clientes)),swal("Eliminado!","Has eliminado el pedido correctamente.","success")})}function g(){var e={cliente:{tipo:"",telefono:"",direccion:"",nombre:""},direccion_origen:"",direccion_destino:"",tipo:"",descripcion:""};v.clientes.push(e)}o.suscribe(t.currentUser().empresa.id);var v=this;v.newPedidoManual=g,v.selectPedido=n,v.selectMensajero=r,v.cargarDireccionesOrigen=l,v.cargarDireccionesDestino=c,v.guardarPedido=p,v.removePedido=u,v.modalDescripcion=i,v.dorigens=[],v.ddestinos=[],v.pedido={},v.mensajerosS=[],v.clientes=JSON.parse(sessionStorage.getItem("pedidos"))||[],io.socket.on("newCall",function(e){a.$apply(function(){e.cliente.telefono=parseInt(e.cliente.telefono),v.clientes.push(e),sessionStorage.setItem("pedidos",JSON.stringify(v.clientes))})}),v.selectedCantidadMensajeros=function(e){v.mensajerosS.push(e.id),console.log(v.mensajerosS)},v.selectedColorTipoIconoParticular=function(e){return"particular"==v.clientes[e].cliente.tipo?{color:"#64dd17"}:{color:"#b71c1c"}},v.selectedColorTipoIconoEmpresa=function(e){return"empresa"==v.clientes[e].cliente.tipo?{color:"#64dd17"}:{color:"#b71c1c"}},v.selectedColorTipoBotonParticular=function(e){return"particular"==v.clientes[e].cliente.tipo?{border:"3px solid #64dd17"}:{border:"3px solid #b71c1c"}},v.selectedColorTipoBotonEmpresa=function(e){return"empresa"==v.clientes[e].cliente.tipo?{border:"3px solid #64dd17"}:{border:"3px solid #b71c1c"}},v.agregarDescripcion=function(e){v.pedido=v.clientes[e];var o=s.open({animation:!0,templateUrl:"modal-descripcion.html",controller:"modalDescripcionController",resolve:{descripcion:function(){return a.descripcion}}});o.result.then(function(e){v.pedido.descripcion=e,v.clientes.slice(v.pedido,1),sessionStorage.setItem("pedidos",JSON.stringify(v.clientes))},function(){console.log("Modal dismissed at: "+new Date)})},v.changeTipoCliente=function(e,o){"empresa"==e?(v.clientes[o].cliente.tipo=e,sessionStorage.setItem("pedidos",JSON.stringify(v.clientes))):"particular"==e&&(v.clientes[o].cliente.tipo=e,sessionStorage.setItem("pedidos",JSON.stringify(v.clientes)))},v.colocarDisponible=function(o){v.m=o,swal({title:"ESTAS SEGURO?",text:"Estas intentando colocar disponible al mensajero "+o.nombre+" "+o.apellidos,showCancelButton:!0,closeOnConfirm:!1,cancelButtonText:"No",confirmButtonText:"Si",animation:"slide-from-top"},function(){var o=e.one("mensajeros/"+v.m.id+"/estado");o.estado=1,o.put().then(function(e){d(),m(),swal("Se coloco disponible al mensajero")})})},d(),m()}e.$inject=["Restangular","SocketcSailsService","authService","$scope","$uibModal"],angular.module("app.central_pedidos").controller("CentralPedidosController",e)}(),function(){"use strict";function e(e){e.state("app.gestion-pagos",{url:"/central/pagos",templateUrl:"app/centrales/gestion-pagos/central-pagos.html",data:{onlyAccess:"EMPRESA"},controller:"CentralPagosController",controllerAs:"vm"}).state("app.consulta-pagos",{url:"/central/consultar-pagos",templateUrl:"app/centrales/gestion-pagos/consulta-pagos.html",data:{onlyAccess:"EMPRESA"},controller:"ConsultarPagosController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Registro de pagos",link:"app.gestion-pagos",icon:"fa fa-money"},{nombre:"Consulta de pagos",link:"app.consulta-pagos",icon:"fa fa-search"}],"EMPRESA")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.central_pagos",[]).config(e).run(o)}(),function(){"use strict";function e(e,o,t){function a(){e.service("conceptos_cobros",e.one("empresas",o.currentUser().empresa.id)).getList().then(function(e){l.conceptos=e})}function s(){l.pago={};var t="fotografia,condicion,direccion,nombre,apellidos,telefonos,email,vehiculo,cedula,id";e.service("mensajeros?fields="+t+"&populate=pagos",e.one("empresas",o.currentUser().empresa.id)).getList({cedula:l.buscar}).then(function(e){e.length<=0?swal("No se encontro ningun mensajero con esta identificacion"):(l.mensajero=e[0],i(e[0]),l.pago.fecha=new Date)})}function n(){l.pago.mensajero=l.mensajero.id,io.socket.request({method:"post",url:"/mensajeros/"+l.mensajero.id+"/pagos",data:l.pago,headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}},function(e){l.pago={},l.pago.fecha=new Date,i(l.mensajero),r(),swal("Pago registrado correctamente")})}function i(o){l.pagos=[],l.total=0,e.service("pagos?populate=concepto",e.one("mensajeros",o.id)).getList().then(function(e){l.pagos=e,angular.forEach(l.pagos,function(e){l.total+=e.valor})})}function r(){e.one("empresas/",o.currentUser().empresa.id).customGET("total_ultimos_pagos").then(function(e){l.ultimosPagos=e})}var l=this;l.buscar="",l.total=0,l.fechaInicio=new Date,l.fechaFinal=new Date,l.cargarMensajero=s,l.guardarPago=n,r(),a()}e.$inject=["Restangular","authService","$scope"],angular.module("app.central_pagos").controller("CentralPagosController",e)}(),function(){"use strict";function e(e,o){function t(){}var a=this;a.buscar="",a.total=0,a.pagos=[],a.fechaInicio=new Date,a.fechaFinal=new Date,a.cargarPagos=t}e.$inject=["Restangular","authService"],angular.module("app.central_pagos").controller("ConsultarPagosController",e)}(),function(){"use strict";function e(e){e.state("app.central-mensajeros",{url:"/central/mensajeros",templateUrl:"app/centrales/gestion-mensajeros/central-mensajeros.html",data:{onlyAccess:"EMPRESA"},controller:"CentralMensajerosController",controllerAs:"vm"}).state("app.detalle-mensajero",{url:"/central/detalle/mensajero",templateUrl:"app/centrales/gestion-mensajeros/detalles-mensajeros.html",data:{onlyAccess:"EMPRESA"},params:{id:null},controller:"CentralDetallesMensajerosController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Mensajeros",link:"app.central-mensajeros",icon:"fa fa-users"}],"EMPRESA")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.central_mensajeros",[]).config(e).run(o)}(),function(){"use strict";function e(e,o,t,a){function s(){f.mensajerosActivos=0,f.mensajerosBloqueados=0,f.mensajerosAusentes=0;var t="condicion";e.service("mensajeros?fields="+t,e.one("empresas",o.currentUser().empresa.id)).getList().then(function(e){angular.forEach(e,function(e){"activo"==e.condicion?f.mensajerosActivos++:"sancionado"==e.condicion?f.mensajerosBloqueados++:"ausente"==e.condicion&&f.mensajerosAusentes++})})}function n(){f.texto="Mensajeros Activos",f.mensajeros=[];var t="all";e.service("mensajeros?fields="+t,e.one("empresas",o.currentUser().empresa.id)).getList({condicion:"activo"}).then(function(e){f.mensajeros=e})}function i(){f.texto="Mensajeros Sancionados",f.mensajeros=[];var t="all";e.service("mensajeros?fields="+t,e.one("empresas",o.currentUser().empresa.id)).getList({condicion:"sancionado"}).then(function(e){f.mensajeros=e})}function r(){f.texto="Mensajeros Ausentes",f.mensajeros=[];var t="all";e.service("mensajeros?fields="+t,e.one("empresas",o.currentUser().empresa.id)).getList({condicion:"ausente"}).then(function(e){f.mensajeros=e})}function l(o){f.mensajero=o,f.mensajero.cedula=parseInt(f.mensajero.cedula),f.mensajero.telefonos=parseInt(f.mensajero.telefonos),f.mensajero.licencia_conducion=parseInt(f.mensajero.licencia_conducion),f.mensajero.fecha_expedicion_licencia=new Date(f.mensajero.fecha_expedicion_licencia),f.mensajero.fecha_vencimiento_licencia=new Date(f.mensajero.fecha_vencimiento_licencia),f.mensajero.fecha_nacimiento=new Date(f.mensajero.fecha_nacimiento),e.service("domicilios",e.one("mensajeros",o.id)).getList().then(function(e){f.domicilios=e}),$("#verMensajero").modal("show")}function c(o){f.m=o,swal({title:"ESTAS SEGURO?",text:"Estas intentando agregar a la lista negra, al mensajero "+o.nombre+" "+o.apellidos,type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Escribe aca la causa de sancion"},function(o){if(o===!1)return!1;if(""===o)return swal.showInputError("No has escrito nada en el campo!"),!1;var t=e.all("lista_negra"),a={id:f.m.id,razon:o};t.post(a).then(function(e){$("#verMensajero").modal("toggle"),s(),i(),swal("Sancionado correctamente")})})}function d(o){f.m=o,swal({title:"ESTAS SEGURO?",text:"Estas intentando sancionar al mensajero "+o.nombre+" "+o.apellidos,type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Escribe aca la causa de sancion"},function(o){if(o===!1)return!1;if(""===o)return swal.showInputError("No has escrito nada en el campo!"),!1;var t=e.one("mensajeros/"+f.m.id+"/condicion");t.condicion="sancionado",t.razon=o,t.put().then(function(e){$("#verMensajero").modal("toggle"),swal("Sancionado correctamente"),s(),i()})})}function m(o){f.m=o,swal({title:"ESTAS SEGURO?",text:"Estas intentando quitar la sancion al mensajero "+o.nombre+" "+o.apellidos,type:"info",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Si",closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){setTimeout(function(){var o=e.one("mensajeros/"+f.m.id+"/condicion");o.condicion="activo",o.put().then(function(e){$("#verMensajero").modal("toggle"),swal("Sancion quitada correctamente al mensajero "),s(),n()})},200)})}function p(){f.editMode=!0,f.mensajero={},$("#newMensajero").modal("show"),document.getElementById("image").innerHTML=['<img class="center" id="imagenlogo" style="width:200px; height: 200px; border-radius: 50%; ng-src="http://api.domigo.co/images/mensajeros/',f.mensajero.fotografia,'"  />'].join("")}function u(e){f.mensajero=e,f.mensajero.cedula=parseInt(f.mensajero.cedula),f.mensajero.telefonos=parseInt(f.mensajero.telefonos),f.mensajero.licencia_conducion=parseInt(f.mensajero.licencia_conducion),f.mensajero.fecha_expedicion_licencia=new Date(f.mensajero.fecha_expedicion_licencia),f.mensajero.fecha_vencimiento_licencia=new Date(f.mensajero.fecha_vencimiento_licencia),f.mensajero.fecha_nacimiento=new Date(f.mensajero.fecha_nacimiento),f.editMode=!1,document.getElementById("image").innerHTML=['<img class="center" id="imagenlogo" style="width:200px; height: 200px; border-radius: 50%; ng-src="http://api.domigo.co/images/mensajeros/',f.mensajero.fotografia,'"  />'].join(""),$("#newMensajero").modal("show")}function g(){var o=e.one("mensajeros",f.mensajero.id);o.cedula=f.mensajero.cedula,o.nombre=f.mensajero.nombre,o.apellidos=f.mensajero.apellidos,o.fecha_nacimiento=f.mensajero.fecha_nacimiento,o.sexo=f.mensajero.sexo,o.direccion=f.mensajero.direccion,o.barrio=f.mensajero.barrio,o.telefonos=f.mensajero.telefonos,o.ciudad=f.mensajero.ciudad,o.email=f.mensajero.email,o.vehiculo=f.mensajero.vehiculo,o.licencia_conduccion=f.mensajero.licencia_conduccion,o.licencia_tipo=f.mensajero.licencia_tipo,o.fecha_expedicion_licencia=f.mensajero.fecha_expedicion_licencia,o.fecha_vencimiento_licencia=f.mensajero.fecha_vencimiento_licencia,o.put().then(function(e){b(e),swal("Actualizado correctamente"),s(),"activo"==e.condicion?n():i(),$("#newMensajero").modal("hide")})}function v(){h.post(f.mensajero).then(function(e){swal("Se guardo correctamente al mensajero "+e.nombre+" "+e.apellidos),$("#newMensajero").modal("toggle"),b(e),s(),"activo"==e.condicion?n():i()})}function b(e){if(f.fotografia){var o=new FormData;return o.append("fotografia",f.fotografia),t.post(a+"/mensajeros/"+e.id+"/fotografia",o,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}}var f=this,h=e.all("/empresas/"+o.currentUser().empresa.id+"/mensajeros");f.variableActivos=!0,f.variableBloqueados=!1,f.fotografia="",f.editMode=!0,f.cargarMensajeros=s,f.cargarMensajerosActivos=n,f.cargarMensajerosBloqueados=i,f.cargarMensajerosAusentes=r,f.verMensajero=l,f.verMmensajero=u,f.addListaNegra=c,f.bloquearMensajero=d,f.desbloquearMensajero=m,f.newMensajero=p,f.guardarMensajero=v,f.modificarMensajero=g,1==f.variableActivos&&n(),s()}e.$inject=["Restangular","authService","$http","API"],angular.module("app.central_mensajeros").controller("CentralMensajerosController",e)}(),function(){"use strict";function e(e){e.state("app.admin-centrales",{url:"/admin/centrales",templateUrl:"app/admin/gestion-centrales/admin-centrales.html",data:{onlyAccess:"SUPER_ADM"},controller:"AdminCentralesController",controllerAs:"vm"}).state("app.admin-centrales-mensajeros",{url:"/admin/centrales/mensajeros",templateUrl:"app/admin/gestion-centrales/admin-mensajeros.html",params:{id:null,nombre:null},data:{onlyAccess:"SUPER_ADM"},controller:"AdminMensajerosController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Empresas",link:"app.admin-centrales",icon:"fa fa-house"}],"SUPER_ADM")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.admin_centrales",[]).config(e).run(o)}(),function(){"use strict";function e(e,o,t){function a(){n.mensajeros=[];var o="all";t.all("/empresas/"+e.id+"/mensajeros?fields="+o).getList().then(function(e){n.mensajeros=e,angular.forEach(e,function(e){1==e.activo?n.mensajerosActivos++:n.mensajerosInactivos++})})}function s(e){n.mensajero=e,$("#newMensajero").modal("show")}var n=this;n.newMensajero=newMensajero,n.verMensajero=s,n.mensajeros=[],n.mensajerosActivos=0,n.mensajerosInactivos=0,n.nombreEmpresa=e.nombre,n.dtOptions=o.fromSource().withLanguage({sEmptyTable:"No hay mensajeros registrados en esta empresa",sInfo:"Mostrando _START_ a _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando 0 a 0 de 0 registros",sInfoFiltered:"(filtrado desde _MAX_ registros)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Mostrar _MENU_ registros",sLoadingRecords:"Cargando...",sProcessing:"Procesando...",sSearch:"Buscar:",sZeroRecords:"No se encontraron registros que coincidar con la busqueda",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": activar para ordenar las columnas ascendente",sSortDescending:": activar para ordenar las columnas descendente"}}).withBootstrap(),a()}e.$inject=["$stateParams","DTOptionsBuilder","Restangular"],angular.module("app.admin_centrales").controller("AdminMensajerosController",e)}(),function(){"use strict";function e(e,o){function t(){r();var e="nit,nombre,telefonos,direccion,ciudad,n_mensajeros,barrio,horario,activa";o.all("/empresas?fields="+e).getList().then(function(e){d.empresas=e,angular.forEach(e,function(e){1==e.activa?d.empresasActivas++:d.empresasInactivas++,d.mensajeros+=e.n_mensajeros})})}function a(e){d.empresa=e,d.editMode=!1,$("#newEmpresa").modal("show")}function s(){d.editMode=!0,d.empresa={},$("#newEmpresa").modal("show")}function n(){m.post(d.empresa).then(function(e){t(),$("#newEmpresa").modal("hide")},function(e){401==e.status?e.data.mensajeError:"A ocurrido un error inesperado"})}function i(){var e=o.one("empresas",d.empresa.id);e.put(d.empresa).then(function(e){swal("Actualizada correctamente"),$("#newEmpresa").modal("hide")})}function r(){d.empresas=[],d.empresa={}}function l(e){var e=o.one("empresas",e);swal({title:"Estas seguro?",text:"Estas intentando activar nuevamente esta empresa!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",cancelButtonText:"No",confirmButtonText:"Si",closeOnConfirm:!1},function(){e.activa=!0,e.put().then(function(e){swal("Activada correctamente"),t()},function(e){swal("Ocurrio un problema al intentar activar esta empresa")})})}function c(e){var e=o.one("empresas",e);swal({title:"Estas seguro?",text:"Estas intentando desactivar esta empresa!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",cancelButtonText:"No",confirmButtonText:"Si",closeOnConfirm:!1},function(){e.activa=!1,e.put().then(function(e){swal("Desactivada correctamente"),t()},function(e){swal("Ocurrio un problema al intentar desactivar esta empresa")})})}var d=this,m=o.all("/empresas");d.empresas=[],d.empresa={},d.empresasActivas=0,d.empresasInactivas=0,d.mensajerosActivos=0,d.mensajerosInactivos=0,d.editMode=!0,d.verEmpresa=a,d.nuevaEmpresa=s,d.registrarEmpresa=n,d.modificarEmpresa=i,d.activarEmpresa=l,d.desactivarEmpresa=c,d.dtOptions=e.fromSource().withLanguage({sEmptyTable:"No hay empresas registradas",sInfo:"Mostrando _START_ a _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando 0 a 0 de 0 registros",sInfoFiltered:"(filtrado desde _MAX_ registros)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Mostrar _MENU_ registros",sLoadingRecords:"Cargando...",sProcessing:"Procesando...",sSearch:"Buscar:",sZeroRecords:"No se encontraron registros que coincidar con la busqueda",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": activar para ordenar las columnas ascendente",sSortDescending:": activar para ordenar las columnas descendente"}}).withBootstrap(),t()}e.$inject=["DTOptionsBuilder","Restangular"],angular.module("app.admin_centrales").controller("AdminCentralesController",e)}(),function(){"use strict";angular.module("domigo",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","localytics.directives","commons","angular-jwt","restangular","datatables","datatables.bootstrap","datatables.buttons","app.auth","app.admin","app.central"])}(),function(){"use strict";function e(e,o){var t=this;t.user=o.currentUser(),t.user&&(t.menu=e.getOf(t.user.rol))}e.$inject=["appMenu","authService"],angular.module("domigo").controller("MenuCtrl",e)}(),function(){"use strict";function e(e,o){function t(){sessionStorage.clear(),e.go("login")}var a=this;a.hoy=new Date,a.user=o.currentUser(),a.cerrarSesion=t}e.$inject=["$state","authService"],angular.module("domigo").controller("LayoutController",e)}(),function(){"use strict";function e(){function e(o,s){if(o instanceof Array)for(var n=0;n<o.length;n++)e(o[n],s);else"all"!=s&&s||a.push(o),angular.isDefined(t[s])||(t[s]=[]),t[s].push(o)}function o(e){return t[e]?t[e].concat(a):a}var t=[],a=[];return{addTo:e,getOf:o}}angular.module("domigo").factory("appMenu",e)}(),function(){"use strict";angular.module("commons",[])}(),function(){"use strict";angular.module("commons").directive("uploaderModel",["$parse",function(e){return{restrict:"A",link:function(o,t,a){t.on("change",function(s){e(a.uploaderModel).assign(o,t[0].files[0])})}}}])}(),function(){"use strict";angular.module("commons").directive("ngEnter",function(){return function(e,o,t){o.bind("keydown keypress",function(o){13===o.which&&(e.$apply(function(){e.$eval(t.ngEnter)}),o.preventDefault())})}})}(),function(){"use strict";function e(){function e(e){var o=0,t=[];JSON.parse(sessionStorage.getItem("pedidos"))?(t=JSON.parse(sessionStorage.pedidos),o=t.length,console.log(o),t.push(e),sessionStorage["pedidos"[o]]=JSON.stringify(t)):(t[0]=e,sessionStorage.pedidos=JSON.stringify(t))}this.pedidos=function(){io.socket.on("newCall",function(o){console.log(o),e(o)})},this.suscribe=function(e){io.socket.request({method:"get",url:"/empresas/"+e+"/join_ws",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}},function(e){console.log(e)})}}angular.module("commons").service("SocketcSailsService",e)}(),function(){"use strict";angular.module("commons").filter("ifEmpty",function(){return function(e,o){return angular.isUndefined(e)||null===e||""===e?o:e}})}(),function(){"use strict";function e(e){return{restrict:"A",require:"ngModel",link:function(o,t,a,s){return e(function(){var e;return e=a.value,o.$watch(a.ngModel,function(e){$(t).iCheck("update")}),$(t).iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"}).on("ifChanged",function(n){return"checkbox"===$(t).attr("type")&&a.ngModel&&o.$apply(function(){return s.$setViewValue(n.target.checked)}),"radio"===$(t).attr("type")&&a.ngModel?o.$apply(function(){return s.$setViewValue(e)}):void 0})})}}}e.$inject=["$timeout"],angular.module("commons").directive("icheck",e)}(),function(){"use strict";function e(){return function(e,o){var t=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],a=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];return"full"==o?a[e.getDay()]+", "+e.getDate()+" de "+t[e.getMonth()]+" de "+e.getFullYear():"short"==o?e.getDate()+" de "+t[e.getMonth()]:void 0}}angular.module("commons").filter("esdate",e)}(),function(){"use strict";angular.module("commons").filter("cut",function(){return function(e,o,t,a){if(!e)return"";if(t=parseInt(t,10),!t)return e;if(e.length<=t)return e;if(e=e.substr(0,t),o){var s=e.lastIndexOf(" ");-1!=s&&(e=e.substr(0,s))}return e+(a||" …")}})}(),function(){"use strict";function e(e){e.state("login",{url:"/login",templateUrl:"app/auth/login.html",data:{noRequiresLogin:!0},controller:"LoginController",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("app.auth",[]).config(e)}(),function(){"use strict";function e(e,o,t){function a(){function o(o){var t=e.storeUser(o.token,o.user);s(t.rol)}function t(e){n.mensajeError="",401==e.status&&"E_USER_NOT_FOUND"==e.data.code&&(n.mensajeError="Usuario y/o contraseña incorrectas, intentalo de nuevo"),401==e.status&&"E_INACTIVE"==e.data.code&&swal("Tu usuario ha sido desactivado, contacta a soporte para volver a activarl0")}n.mensajeError="",i.post(n.usuario).then(o,t)}function s(e){"SUPER_ADM"==e?o.go("app.admin-centrales"):"EMPRESA"==e?o.go("app.gestion-pedidos"):"MENSAJERO"==e&&(n.mensajeError="Este usuario no tiene autorizacion para acceder al sistema del administrador, por favor comuniquese con soporte")}var n=this,i=t.all("/usuario/token");n.usuario={},n.mensajeError="",n.iniciarSesion=a,e.currentUser()&&s(e.currentUser().rol)}e.$inject=["authService","$state","Restangular"],angular.module("app.auth").controller("LoginController",e)}(),function(){"use strict";function e(){this.storeUser=function(e,o){sessionStorage.setItem("jwt",e);var t=o;return sessionStorage.setItem("usuario",JSON.stringify(o)),t},this.currentUser=function(){return JSON.parse(sessionStorage.getItem("usuario"))}}angular.module("app.auth").service("authService",e)}(),$(document).ready(function(){function e(){var e=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",e+"px");var o=$("nav.navbar-default").height(),t=$("#page-wrapper").height();o>t&&$("#page-wrapper").css("min-height",o+"px"),t>o&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&$("#page-wrapper").css("min-height",$(window).height()-60+"px")}$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small"),$("#side-menu").metisMenu(),$(".collapse-link").click(function(){var e=$(this).closest("div.ibox"),o=$(this).find("i"),t=e.find("div.ibox-content");t.slideToggle(200),o.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),e.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){e.resize(),e.find("[id^=map-]").resize()},50)}),$(".close-link").click(function(){var e=$(this).closest("div.ibox");e.remove()}),$(".fullscreen-link").click(function(){var e=$(this).closest("div.ibox"),o=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode"),o.toggleClass("fa-expand").toggleClass("fa-compress"),e.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)}),$(".close-canvas-menu").click(function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()}),$(".right-sidebar-toggle").click(function(){$("#right-sidebar").toggleClass("sidebar-open")}),$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10}),$(".open-small-chat").click(function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove"),$(".small-chat-box").toggleClass("active")}),$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:.4}),$(".check-link").click(function(){var e=$(this).find("i"),o=$(this).next("span");return e.toggleClass("fa-check-square").toggleClass("fa-square-o"),o.toggleClass("todo-completed"),!1}),$(".navbar-minimalize").click(function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()}),$(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"}),$(".modal").appendTo("body"),e(),$(window).bind("load",function(){$("body").hasClass("fixed-sidebar")&&$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})}),$(window).scroll(function(){$(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")?$("#right-sidebar").addClass("sidebar-top"):$("#right-sidebar").removeClass("sidebar-top")}),$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||e()}),$("[data-toggle=popover]").popover(),$(".full-height-scroll").slimscroll({height:"100%"})}),$(window).bind("resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")}),$(document).ready(function(){if(localStorageSupport){var e=localStorage.getItem("collapse_menu"),o=localStorage.getItem("fixedsidebar"),t=localStorage.getItem("fixednavbar"),a=localStorage.getItem("boxedlayout"),s=localStorage.getItem("fixedfooter"),n=$("body");"on"==o&&(n.addClass("fixed-sidebar"),$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})),"on"==e&&(n.hasClass("fixed-sidebar")?n.hasClass("body-small")||n.addClass("mini-navbar"):n.hasClass("body-small")||n.addClass("mini-navbar")),"on"==t&&($(".navbar-static-top").removeClass("navbar-static-top").addClass("navbar-fixed-top"),n.addClass("fixed-nav")),"on"==a&&n.addClass("boxed-layout"),"on"==s&&$(".footer").addClass("fixed")}}),function(){"use strict";function e(e,o,t,a){e.$on("$stateChangeStart",function(e,s){if(!s.data||!s.data.noRequiresLogin){var n=sessionStorage.getItem("jwt");if(!n||t.isTokenExpired(n))e.preventDefault(),o.go("login");else if(s.data&&s.data.onlyAccess){var i=a.currentUser();s.data.onlyAccess&&s.data.onlyAccess!=i.rol&&"all"!=s.data.onlyAccess&&(e.preventDefault(),o.go("login"))}}})}e.$inject=["$rootScope","$state","jwtHelper","authService"],angular.module("domigo").run(e)}(),function(){"use strict";function e(e,o,t,a,s){a.tokenGetter=function(e,o,t){var a=sessionStorage.getItem("jwt");return a?e.isTokenExpired(a)?o({url:t+"/new_token",skipAuthorization:!0,method:"GET",headers:{Authorization:"Bearer "+a}}).then(function(e){return sessionStorage.setItem("jwt",e.data.token),e.data.token},function(e){sessionStorage.removeItem("jwt")}):a:void 0},a.tokenGetter.$inject=["jwtHelper","$http","API"],s.interceptors.push("jwtInterceptor"),o.when("","/"),o.when("/","/login"),e.state("app",{url:"/app",templateUrl:"app/layout/layout.html",controller:"LayoutController",controllerAs:"vm"})}e.$inject=["$stateProvider","$urlRouterProvider","RestangularProvider","jwtInterceptorProvider","$httpProvider"],angular.module("domigo").config(e).constant("API","http://localhost:1337")}(),angular.module("domigo").directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(o,t){o.$watch("authentication.user",function(){e(function(){t.metisMenu()})})}}}]).directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope",function(o){o.minimalize=function(){angular.element("body").toggleClass("mini-navbar"),!angular.element("body").hasClass("mini-navbar")||angular.element("body").hasClass("body-small")?(angular.element("#side-menu").hide(),e(function(){angular.element("#side-menu").fadeIn(400)},200)):angular.element("#side-menu").removeAttr("style")}}]}}]),function(){"use strict";function e(e){e.setBaseUrl("http://localhost:1337"),e.addResponseInterceptor(function(e,o,t,a,s,n){var i;return i=e.data})}e.$inject=["RestangularProvider"],angular.module("domigo").config(e)}(),function(){"use strict";function e(e){e.state("app.consulta-pedidos",{url:"/central/consultar-pedidos",templateUrl:"app/centrales/gestion-pedidos/consultar-pedidos/consulta-pedidos.html",data:{onlyAccess:"EMPRESA"},controller:"ConsultarPedidosController",controllerAs:"vm"})}function o(e){e.addTo([{nombre:"Consulta Pedidos",link:"app.consulta-pedidos",
icon:"fa fa-list-ol"}],"EMPRESA")}e.$inject=["$stateProvider"],o.$inject=["appMenu"],angular.module("app.central_pedidos").config(e).run(o)}(),function(){"use strict";angular.module("app.central",["app.central_pedidos","app.central_mensajeros","app.central_pagos"])}(),function(){"use strict";angular.module("app.admin",["app.admin_centrales"])}(),angular.module("domigo").run(["$templateCache",function(e){e.put("app/auth/login.html",'<div class="full-width bg-domigo bg-login" id="container-login"><div class="middle-box text-center loginscreen animated fadeInDown"><div><div class="m-t" name="loginForm" novalidate=""><img src="../../assets/images/logo-login.png" style="width:70%;"><br><br><div class="row"><div class="col s12" style="text-align: center;color:#FFF;">{{vm.mensajeError}}</div></div><form class="form-domigo" name="loginForm" novalidate=""><div class="form-group"><input class="form-control form-control-domigo" type="text" ng-model="vm.usuario.username" name="username" placeholder="Usuario" required="" autofocus=""><div ng-messages="!loginForm.$pristine && loginForm.password.$error"><div ng-message="required" class="mensajes">Este campo es obligatorio.</div></div></div><hr><div class="form-group"><input class="form-control form-control-domigo" type="password" ng-model="vm.usuario.password" name="password" placeholder="Contrase&ntilde;a" required="" autofocus=""><div ng-messages="!loginForm.$pristine && loginForm.username.$error"><div ng-message="required" class="mensajes">Este campo es obligatorio.</div></div></div></form><br><button id="btn-inicio" ng-click="vm.iniciarSesion()" type="submit" class="full-width m-b btn-domigo" ng-disabled="!loginForm.$valid">Iniciar Sesion</button></div></div></div></div><script type="text/javascript">\r\n  $(document).ready(function($){\r\n  var ventana_alto = $(window).height();\r\n   $(\'#container-login\').css({\'height\':ventana_alto });\r\n});\r\n</script>'),e.put("app/layout/layout.html",'<nav class="navbar-default navbar-static-side" role="navigation" style="background-color:#FFFFFF;min-height:100%"><div class="sidebar-collapse"><ul class="nav metismenu" id="side-menu" ng-controller="MenuCtrl as vm"><li ng-repeat="op in vm.menu" ui-sref="{{op.link}}" id="{{op.id}}" style="border-bottom:2px solid #DF1008;"><a href="javascript:;"><i class="{{op.icon}}" style="font-size:28px;"></i> <span class="nav-label">{{op.nombre}}</span></a></li></ul></div></nav><div id="page-wrapper" style="min-height: 667px;background-color:#b71c1c; border-left:3px solid #DF1008"><div class="row border-bottom"><nav class="navbar navbar-static-top navbar-domigo" role="navigation" style="margin-bottom: 0;"><div class="navbar-header" style="margin-top:-5px;"><a class="navbar-minimalize minimalize-styl-2" href="javascript:;" onclick="menu();"><i class="fa fa-bars" style="color:#DF1008;font-size:24px;"></i></a><table style="margin-top:5px;"><tr><td style="zoom:80%"><button class="btn btn-circle btn-lg" type="button" style="margin-top:5px;"><i class="fa fa-star" style="color:#DF1008"></i></button></td><td><span style="margin-left:5px;">Bienvenido, {{vm.user.empresa.nombre}}</span></td><td><a href="javascript:;" ng-click="vm.cerrarSesion()" style="margin-left:20px;color:#DF1008;"><i class="fa fa-power-off"></i> Cerrar Sesion</a></td></tr></table></div><ul class="nav navbar-top-links navbar-right"><li><img src="../../assets/images/logo_completo.png" style="width:140px;margin-top:9px;"></li></ul></nav></div><div ui-view="" class="" style="background-color:#b71c1c" id="ui"></div><img src="../../../assets/images/bg.png" style="position:absolute;bottom:0;width:100%;height:80px"></div>'),e.put("app/admin/gestion-centrales/admin-centrales.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="col-lg-12"><div class="ibox float-e-margin"><div class="ibox-title radio-title"><div class="row"><div class="col-lg-7"><h2>Lista de Empresas</h2></div><div class="col-lg-3"><div class="input-group"><input type="text" placeholder="Buscador" class="input-sm form-control buscador-domigo" ng-model="filtro"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary"><i class="fa fa-search"></i></button></span></div></div><div class="col-lg-2" style="text-align: right"><button type="button" class="btn btn-sm btn-primary" ng-click="vm.nuevaEmpresa()"><i class="fa fa-plus"></i> Empresa</button></div></div></div><div class="ibox-content radio-body" style="border-top:0"><div class="row"><div class="col-lg-12"><table class="table" dt-options="vm.dtOptions"><thead><th>Nit</th><th>Nombre</th><th>Telefono</th><th>Ciudad</th><th>Direccion</th><th># Mensajeros</th><th>Opciones</th></thead><tbody><tr ng-repeat="empresa in vm.empresas | filter : filtro"><td>{{empresa.nit}}</td><td>{{empresa.nombre}}</td><td>{{empresa.telefonos[0]}}</td><td>{{empresa.ciudad}}</td><td>{{empresa.direccion}}</td><td style="text-align: center"><span class="label label-warning" style="font-size:12px">{{empresa.n_mensajeros}}</span></td><td><button ng-click="vm.verEmpresa(empresa)" type="button" class="btn btn-sm btn-success" title="Ver y Editar"><i class="fa fa-eye"></i></button><button ng-if="empresa.activa == false" type="button" ng-click="vm.activarEmpresa(empresa.id)" class="btn btn-sm btn-primary" title="Activar"><i class="fa fa-thumbs-down"></i></button> <button ng-if="empresa.activa == true" type="button" ng-click="vm.desactivarEmpresa(empresa.id)" class="btn btn-sm btn-warning" title="Desactivar"><i class="fa fa-thumbs-up"></i></button></td></tr></tbody></table></div></div></div></div></div><div id="newEmpresa" class="modal inmodal in fade" role="dialog"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button> <i class="fa fa-home modal-icon"></i><h4 class="modal-title">Registro de Empresas</h4></div><div class="modal-body"><form name="empresaForm"><div class="row"><div class="col-lg-4"><div class="input-group"><label>Nit:</label> <input type="text" ng-model="vm.empresa.nit" class="input-sm form-control" required=""></div><div class="input-group"><label>Nombre :</label> <input type="text" ng-model="vm.empresa.nombre" class="input-sm form-control" required=""></div></div><div class="col-lg-4"><div class="input-group"><label>Direccion:</label> <input type="text" ng-model="vm.empresa.direccion" class="input-sm form-control" required=""></div><div class="input-group"><label>Ciudad:</label><select ng-model="vm.empresa.ciudad" class="input-sm form-control" required=""><option></option><option value="CODAZZI">CODAZZI</option><option value="SAN DIEGO">SAN DIEGO</option><option value="BECERRIL">BECERRIL</option><option value="LA VICTORIA">LA VICTORIA</option><option value="LA JAGUA DE IBIRICO">LA JAGUA DE IBIRICO</option><option value="EL DESASTRE">EL DESASTRE</option><option value="LOS BRASILES">LOS BRASILES</option><option value="LLERASCA">LLERASCA</option><option value="PAILITAS">PAILITAS</option><option value="RINCON HONDO">RINCON HONDO</option><option value="LA LOMA">LA LOMA</option><option value="CHIRIGUANA">CHIRIGUANA</option><option value="LA GLORIA">LA GLORIA</option><option value="VALLEDUPAR">VALLEDUPAR</option><option value="LA PAZ">LA PAZ</option><option value="CURUMANI">CURUMANI</option></select></div></div><div class="col-lg-4"><div class="input-group"><label>Barrio:</label> <input type="text" ng-model="vm.empresa.barrio" class="input-sm form-control" required=""></div><div class="input-group"><label>Teléfono:</label> <input type="text" ng-model="vm.empresa.telefonos" class="input-sm form-control" required=""></div></div></div><div class="row"><div class="col-lg-4"><div class="input-group"><label>Horario de atención:</label> <input type="text" ng-model="vm.empresa.horario" class="input-sm form-control" required=""></div></div></div><div class="row" ng-if="vm.editMode != false"><fieldset><legend style="text-align: center">Datos de usuario</legend><div class="col-lg-2"><p></p></div><div class="col-lg-4"><div class="input-group"><label>Nombre de usuario:</label> <input type="text" ng-model="vm.empresa.usuario.username" class="input-sm form-control" required=""></div></div><div class="col-lg-4"><div class="input-group"><label>Contrase&ntilde;a:</label> <input type="password" ng-model="vm.empresa.usuario.password" class="input-sm form-control" required=""></div></div></fieldset></div></form></div><div class="modal-footer"><button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button> <button ng-show="vm.editMode" type="button" class="btn btn-primary" ng-click="vm.registrarEmpresa();" ng-disabled="!empresaForm.$valid">Registrar</button> <button ng-hide="vm.editMode" type="button" class="btn btn-primary" ng-click="vm.modificarEmpresa(vm.empresa);" ng-disabled="!empresaForm.$valid">Modificar</button></div></div></div></div></div>'),e.put("app/admin/gestion-centrales/admin-mensajeros.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title radio-title"><div class="row"><div class="col-lg-1"><br><a href="javascript:;" ui-sref="app.admin-centrales" style="color: black"><i class="fa fa-arrow-left"></i> VOLVER</a></div><div class="col-lg-8"><h2>{{vm.nombreEmpresa}}: Mensajeros</h2></div><div class="col-lg-3"><div class="input-group"><input type="text" placeholder="Buscador" class="input-sm form-control buscador-domigo" ng-model="filtro"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary"><i class="fa fa-search"></i></button></span></div></div></div><div class="hr-line-dashed"></div></div><div class="ibox-content radio-body" style="border-top:0"><div class="row"><div class="col-lg-12"><table id="mensajerosTable" class="table" dt-options="vm.dtOptions"><thead><tr><th>#</th><th>Nombre</th><th>Telefono</th><th>Email</th><th>Direccion</th><th>Opciones</th></tr></thead><tbody><tr ng-repeat="mensajero in vm.mensajeros | filter: filtro"><td>{{$index+1}}</td><td>{{mensajero.nombre}} {{mensajero.apellido}}</td><td>{{mensajero.telefonos[0]}}</td><td>{{mensajero.email}}</td><td>{{mensajero.direccion}}</td><td><button ng-click="vm.verMensajero(mensajero)" type="button" class="btn btn-sm btn-success" title="Ver y Editar"><i class="fa fa-eye"></i></button></td></tr></tbody></table></div></div></div></div></div><div id="newMensajero" class="modal inmodal in fade" role="dialog"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button> <i class="fa fa-child modal-icon"></i><h4 class="modal-title">Datos del Mensajero</h4></div><div class="modal-body"><div class="row"><div class="col-lg-4"><div class="input-group"><label>Nombre :</label> <input type="text" ng-model="vm.mensajero.nombre" class="input-sm form-control"></div><div class="input-group"><label>Telefono:</label> <input type="text" ng-model="vm.mensajero.telefono" class="input-sm form-control"></div><div class="input-group"><label>Direccion:</label> <input type="text" ng-model="vm.mensajero.direccion" class="input-sm form-control"></div></div></div><div class="modal-footer"><button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button> <button type="button" class="btn btn-primary" ng-click="registrarEmpresa();">Registrar</button></div></div></div></div></div></div>'),e.put("app/centrales/gestion-mensajeros/central-mensajeros.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="ibox float-e-margins"><div class="ibox-title radio-title"><div class="row"><div class="col-lg-4"><table><tr><td><button class="btn btn-circle btn-lg btn-green" type="button" ng-click="vm.newMensajero()"><i class="fa fa-plus"></i></button></td><td><h1 style="margin-left:10px;font-size:22px;">Todos los Mensajeros</h1></td></tr></table></div><div class="col-lg-2"><div class="input-group" style="margin-top:5px;"><span class="input-group-btn"><button type="button" class="btn btn-sm btn-buscador"><i class="fa fa-search" style="color:#DF1008"></i></button></span> <input type="text" placeholder="Buscador" class="input-sm form-control buscador-domigo" ng-model="filtro"></div></div><div class="col-lg-4" style="text-align:right;"><button class="btn" type="button" ng-click="vm.cargarMensajerosActivos()" style="border-radius:20px;color:#FFF;background-color:#558b2f">{{vm.mensajerosActivos}} Activos</button> <button class="btn" type="button" ng-click="vm.cargarMensajerosAusentes()" style="border-radius:20px;color:#FFF;background-color:#ef6c00">{{vm.mensajerosAusentes}} Ausentes</button> <button class="btn" type="button" ng-click="vm.cargarMensajerosBloqueados()" style="border-radius:20px;color:#FFF;background-color:#DF1008">{{vm.mensajerosBloqueados}} Sancionados</button></div></div><div style="border:1px solid #DF1008;" class="col-lg-10"></div></div><div class="ibox-content radio-body" style="border-top:0"><div class="row"><div class="col-lg-10"><div ng-if="vm.mensajeros.length <= 0" style="text-align:center"><i class="material-icons" style="color:#e0e0e0;font-size:200px;">motorcycle</i><br><h2 style="font-size:24px;color:#e0e0e0;font-weight:600;">No se registran mensajeros en esta sección</h2></div><div ng-if="vm.mensajeros.length > 0"><table id="mensajerosTable" class="table table-hover" dt-options="vm.dtOptions" style="font-weight:400;zoom:95%"><tbody><tr ng-repeat="mensajero in vm.mensajeros | filter: filtro | orderBy : \'nombre\'"><td><img ng-src="http://api.domigo.co/images/mensajeros/{{mensajero.fotografia}}" class="img-circle" width="40px;" height="40px"></td><td width="10%;">{{mensajero.cedula}}</td><td style="font-size:14px" width="20%;">{{mensajero.nombre}} {{mensajero.apellidos}}</td><td><i class="material-icons" style="color:#DF1008;margin:0">call</i> {{mensajero.telefonos[0]}}</td><td><i class="material-icons" style="color:#DF1008">email</i> {{mensajero.email}}</td><td width="15%"><i class="material-icons" style="color:#DF1008">motorcycle</i> <span style="text-transform:uppercase">{{mensajero.vehiculo}}</span></td><td style="zoom:80%" width="15%"><button class="btn btn-circle btn-lg btn-green" type="button" ng-click="vm.verMensajero(mensajero)" style="padding:0;background-color:#ef6c00"><i class="fa fa-eye"></i></button> <button class="btn btn-circle btn-lg btn-green" type="button" ng-click="vm.verMmensajero(mensajero)" style="padding:0;background-color:#558b2f"><i class="fa fa-pencil"></i></button></td></tr></tbody></table></div></div></div></div></div></div><div id="newMensajero" class="modal inmodal in face" role="dialog"><div class="modal-dialog modal-lg" style="min-width:95%; zoom:90%;border-radius:20px;"><form name="mensajeroForm" novalidate=""><div class="modal-content" style="border-radius:20px;"><div class="modal-header" style="padding:15px;text-align:left"><h3 style="font-weight:400;color:#B71C1C;">Registra los datos personales de tu mensajero</h3></div><div class="modal-body" style="border-radius:20px;"><div class="row"><div class="col-lg-4"><table><tr><td style="zoom:80%"><button class="btn btn-circle btn-lg" type="button" style="margin-top:5px;background-color:transparent;border:2px solid #B71C1C;"><i class="fa fa-star" style="color:#DF1008"></i></button></td><td><h3 style="font-weight:400;color:#B71C1C;margin-top:15px;margin-left:10px;">Perfil</h3></td></tr></table></div><div class="col-lg-4" style="text-align:right;"><h3 style="font-weight:400;color:#B71C1C;margin-top:15px;margin-left:10px;">* Todos los campos son obligatorios</h3></div></div><br><div class="row"><div class="col-lg-4"><div class="form-group"><input ng-model="vm.mensajero.cedula" name="cedula" type="number" min="0" class="form-control" required="" placeholder="Cedula" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.cedula.$touched"><span ng-show="mensajeroForm.cedula.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><input name="nombres" ng-model="vm.mensajero.nombre" type="text" class="form-control" placeholder="Nombres" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.nombres.$touched"><span ng-show="mensajeroForm.nombres.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><input name="apellidos" ng-model="vm.mensajero.apellidos" type="text" class="form-control" placeholder="Apellidos" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.apellidos.$touched"><span ng-show="mensajeroForm.apellidos.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><small class="control-label" style="color:#9e9e9e">Fecha de nacimiento:</small><br><input name="fnacimiento" ng-model="vm.mensajero.fecha_nacimiento" type="date" class="form-control" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.fnacimiento.$touched"><span ng-show="mensajeroForm.fnacimiento.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><small class="control-label" style="color:#9e9e9e">Sexo:</small><br><select name="sexo" ng-model="vm.mensajero.sexo" class="form-control" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><option value="M">M</option><option value="F">F</option></select><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.sexo.$touched"><span ng-show="mensajeroForm.sexo.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><input name="direccion" ng-model="vm.mensajero.direccion" type="text" class="form-control" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent" placeholder="Direccion"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.direccion.$touched"><span ng-show="mensajeroForm.direccion.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><input name="barrio" ng-model="vm.mensajero.barrio" type="text" class="form-control" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent" placeholder="Barrio"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.barrio.$touched"><span ng-show="mensajeroForm.barrio.$error.required">El campo es obligatorio.</span></div></div></div><div class="col-lg-4"><div class="form-group"><input name="ciudad" ng-model="vm.mensajero.ciudad" type="text" class="form-control" placeholder="Ciudad" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.ciudad.$touched"><span ng-show="mensajeroForm.ciudad.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><input name="telefono" ng-model="vm.mensajero.telefonos" type="number" class="form-control" placeholder="Telefono" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.telefono.$touched"><span ng-show="mensajeroForm.telefono.$error.required">El campo es obligatorio.</span></div></div><div class="form-group"><input name="email" ng-model="vm.mensajero.email" type="email" class="form-control" placeholder="Correo" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.email.$touched"><span ng-show="mensajeroForm.email.$error.required">El campo es obligatorio.</span> <span ng-show="mensajeroForm.email.$error.email">Formato de email incorrecto.</span></div></div></div><div class="col-lg-4"><div class="ibox-content text-center"><div class="m-b-sm" id="image"><img style="width: 200px; height: 200px" id="imagenlogo" alt="image" class="img-circle" src="http://api.domigo.co/images/mensajeros/{{vm.mensajero.fotografia}}"></div><div class="text-center"><div class="col-lg-12" style="border: none"><input id="files" uploader-model="vm.fotografia" type="file" required=""></div></div></div></div></div><div class="row"><div class="col-lg-4"><table><tr><td style="zoom:80%"><button class="btn btn-circle btn-lg" type="button" style="margin-top:5px;background-color:transparent;border:2px solid #B71C1C;"><i class="fa fa-star" style="color:#DF1008"></i></button></td><td><h3 style="font-weight:400;color:#B71C1C;margin-top:15px;margin-left:10px;">Licencia de Conducción</h3></td></tr></table></div><div class="col-lg-4" style="text-align:right;"><h3 style="font-weight:400;color:#B71C1C;margin-top:15px;margin-left:10px;">* Todos los campos son obligatorios</h3></div><div class="row"><div class="col-lg-8"><br><div class="form-group col-lg-6"><small class="control-label" style="color:#9e9e9e">Fecha de expedicion de la licencia de conduccion:</small><br><input name="felicencia" ng-model="vm.mensajero.fecha_expedicion_licencia" type="date" class="form-control" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.felicencia.$touched"><span ng-show="mensajeroForm.felicencia.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><input name="nlicencia" ng-model="vm.mensajero.licencia_conducion" type="number" class="form-control" required="" placeholder="Numero de Licencia" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.nlicencia.$touched"><span ng-show="mensajeroForm.nlicencia.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><input name="pvehiculo" ng-model="vm.mensajero.vehiculo" type="text" class="form-control" required="" placeholder="Placa del Vehiculo" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.pvehiculo.$touched"><span ng-show="mensajeroForm.pvehiculo.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><small class="control-label" style="color:#9e9e9e">Fecha de vencimiento de la licencia de conduccion:</small><br><input name="fvlicencia" ng-model="vm.mensajero.fecha_vencimiento_licencia" type="date" class="form-control" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.fvlicencia.$touched"><span ng-show="mensajeroForm.fvlicencia.$error.required">El campo es obligatorio.</span></div></div><div class="form-group col-lg-6"><small class="control-label" style="color:#9e9e9e">Categoria de licencia:</small><br><select ng-model="vm.mensajero.licencia_tipo" class="form-control" name="clicencia" required="" style="border:0;border-bottom:1px solid #e0e0e0;background-color:transparent"><option value="A1" title="Motos con cilindrada hasta de 125 c.c.">A1</option><option value="A2" title="Motos, motociclos y mototriciclos con cilindrada mayor a 125 c.c.">A2</option><option value="B1" title="Automóviles, motocarros, cuatrimotos, camperos, camionetas y microbuses.">B1</option><option value="B2" title="Camiones rígidos, busetas y buses.">B2</option><option value="B3" title="Vehículos articulados.">B3</option><option value="C1" title="Para la conducción de automóviles, camperos, camionetas y microbuses.">C1</option><option value="C2" title="Para la conducción de camiones rígidos, busetas y buses.">C2</option><option value="C3" title="Para la conducción de vehículos articulados.">C3</option><div class="messages" ng-show="mensajeroForm.$submitted || mensajeroForm.clicencia.$touched"><span ng-show="mensajeroForm.clicencia.$error.required">El campo es obligatorio.</span></div></select></div></div></div><div class="row"><div class="col-lg-8" style="text-align:right;zoom:110%"><input ng-show="vm.editMode" type="submit" class="btn" style="background-color:#689f38;color:#FFF;font-weight:600" value="Registrar Mensajero" ng-click="vm.guardarMensajero();" ng-disabled="mensajeroForm.$invalid"> <input ng-hide="vm.editMode" type="submit" class="btn btn-primary" style="background-color:#689f38;color:#FFF;font-weight:600" value="Modificar Mensajero" ng-click="vm.modificarMensajero(vm.mensajero);" ng-disabled="mensajeroForm.$invalid"></div></div></div></div></div></form></div></div><div id="verMensajero" class="modal inmodal in fade" role="dialog"><div class="modal-dialog modal-lg" style="min-width:95%;border-radius:20px;"><div class="modal-content" style="border-radius:20px;"><div class="modal-body" style="zoom:90%;background-color:#FFF;border-radius:20px;"><div class="row"><div class="col-lg-3"><div class="widget-head-color-box bg-domigo p-lg text-center" style="border-top-left-radius:20px;border-top-right-radius:20px"><div class="m-b-md"><h2 class="font-bold no-margins text-white">{{vm.mensajero.nombre}} {{vm.mensajero.apellidos}}</h2><small class="text-white">Mensajero</small></div><div id="image"><img style="height: 140px; width: 140px" ng-src="http://api.domigo.co/images/mensajeros/{{vm.mensajero.fotografia}}" class="img-circle m-b-md" id="imagenlogo" alt="profile"></div><div class="text-white"><div ng-if="vm.mensajero.condicion == \'ausente\'" class="badge badge-danger">INACTIVO</div><div ng-if="vm.mensajero.condicion == \'activo\'" class="badge badge-primary">ACTIVO</div><div ng-if="vm.mensajero.condicion == \'sancionado\'" class="badge badge-warning">SANCIONADO</div></div><div ng-if="vm.mensajero.enlista_negra == 1" class="badge badge-warning">EN LISTA NEGRA</div></div><div class="widget-text-box" style="background-color:#e0e0e0;border-bottom-left-radius:20px;border-bottom-right-radius:20px"><div class="row"><div class="col-lg-6">ID: {{vm.mensajero.cedula}}</div><div class="col-lg-6"><i class="material-icons" style="color:#DF1008;margin:0">call</i> {{vm.mensajero.telefonos}}</div><div class="col-lg-12" style="text-align:center"><i class="material-icons" style="color:#DF1008;margin:0">email</i> {{vm.mensajero.email}}</div><div class="col-lg-12" style="text-align:center;margin-top:10px;margin-bottom:20px;">{{vm.mensajero.direccion}}</div><div class="col-lg-12" style="text-align:center"><span style="color:#FFF;background-color:#424242;font-weight:300; padding:10px;margin-top:10px;margin-bottom:10px">{{vm.mensajero.vehiculo}}</span></div></div><br><br><div class="center" style="text-align:center"><button ng-if="vm.mensajero.condicion == \'sancionado\'" ng-click="vm.desbloquearMensajero(vm.mensajero)" title="Quitar sancion" class="btn" type="button" style="margin-top:5px;margin-left:5px; border-radius:50%;width:40px;height:40px;background-color:#afb42b;"><i class="fa fa-check" style="color:#FFF"></i></button><button ng-if="vm.mensajero.condicion != \'sancionado\'" ng-click="vm.bloquearMensajero(vm.mensajero)" title="Sancionar" class="btn" type="button" style="margin-top:5px;margin-left:5px; border-radius:50%;width:40px;height:40px;background-color:transparent;border:2px solid #e65100"><i class="fa fa-minus" style="color:#e65100"></i></button> <button ng-if="vm.mensajero.enlista_negra != 1" ng-click="vm.addListaNegra(vm.mensajero)" title="Lista Negra" class="btn" type="button" style="margin-top:5px;margin-left:5px; border-radius:50%;width:40px;height:40px;background-color:transparent;border:2px solid #000"><i class="fa fa-close" style="color:#000"></i></button></div></div></div><div class="col-lg-2"><div class="row"><div class="col-lg-12"><div class="widget yellow-bg p-lg text-center" style="border-radius:20px;"><div class="m-b-md"><h1 style="color:#FFF;font-size:62px; font-weight:900">{{vm.mensajero.n_domicilios_exitosos}}</h1><h3 class="font-bold no-margins">SERVICIOS EXITOSOS</h3></div></div></div><div class="col-lg-12"><div class="widget p-lg text-center" style="background-color:#00695C;border-radius:20px;"><div class="m-b-md text-white"><h1 style="color:#FFF;font-size:62px; font-weight:900">{{vm.mensajero.n_domicilios_rechazados}}</h1><h3 class="font-bold no-margins">SERVICIOS RECHAZADOS</h3></div></div></div></div></div><div class="col-lg-7"><div class="row"><div class="col-lg-6"><h1>Historial de servicios</h1></div><div class="col-lg-6" style="text-align:right"><table width="100%"><tr><td><div class="input-group style=" style="margin-top:25px;"><span class="input-group-btn"><button type="button" class="btn btn-sm btn-buscador"><i class="fa fa-search" style="color:#DF1008"></i></button></span> <input type="text" placeholder="Buscador" class="input-sm form-control buscador-domigo" ng-model="filtroDomicilios"></div></td><td style="text-align:right;padding-left:20px;"><h2 class="badge badge-primary" style="font-size:24px; margin-top:15px;background-color:#DF1008">{{vm.domicilios.length}}</h2></td></tr></table></div></div><div ng-if="vm.domicilios.length > 0"><table class="table table-striped"><thead><th>Fecha de solicitud</th><th>Fecha de entrega</th><th>Origen</th><th>Destino</th><th>Tipo Servicio</th><th>estado</th></thead><tbody><tr ng-repeat="domicilio in vm.domicilios | filter : filtroDomicilios"><td>{{domicilio.fecha_hora_solicitud | date:\'medium\'}}</td><td>{{domicilio.fecha_hora_entrega | date:\'medium\'}}</td><td>{{domicilio.direccion_origen}}</td><td>{{domicilio.direccion_destino}}</td><td>{{domicilio.tipo}}</td><td><span class="badge badge-primary bg-domigo">{{domicilio.estado}}</span></td></tr></tbody></table></div><div ng-if="vm.domicilios.length <= 0"><table align="center" style="margin-top:40px;"><tr><td style="text-align:center"><i class="material-icons" style="font-size:120px;color:#E0E0E0;margin-left:40%">chat-bubble</i><div style="font-size:24px;color:#e0e0e0;font-weight:600">Aùn no tiene servicios registrados <span style="color:#DF1008">:(</span></div></td></tr></table></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button></div></div></div></div><script>\r\n    $(document).ready(function () {\r\n\r\n        $(\'#ui\').css("background-color", "#e0e0e0");\r\n        $("#page-wrapper").css("background-color", "#e0e0e0");\r\n        function archivo(evt) {\r\n            var files = evt.target.files; // FileList object\r\n\r\n            //Obtenemos la imagen del campo "file".\r\n            for (var i = 0, f; f = files[i]; i++) {\r\n                //Solo admitimos imágenes.\r\n                if (!f.type.match(\'image.*\')) {\r\n                    continue;\r\n                }\r\n\r\n                var reader = new FileReader();\r\n\r\n                reader.onload = (function (theFile) {\r\n                    return function (e) {\r\n                        // Creamos la imagen.\r\n                        //document.getElementById("image").innerHTML = [\'<img class="thumb" style="width:100%" src="\', e.target.result, \'" title="\', escape(theFile.name), \'"/>\'].join(\'\');\r\n                        document.getElementById(\'imagenlogo\').src = e.target.result;\r\n//                        document.getElementById("imagenlogo").innerHTML = [\'<img class="center" style="width:300px; height: 300px; border-radius: 50%; position: absolute; left: 0; top: 0" src="\', e.target.result, \'" title="\', escape(theFile.name), \'"/>\'].join(\'\');\r\n                    };\r\n                })(f);\r\n                reader.readAsDataURL(f);\r\n            }\r\n        }\r\n\r\n        document.getElementById(\'files\').addEventListener(\'change\', archivo, false);\r\n\r\n        $(\':file\').change(function () {\r\n            //obtenemos un array con los datos del archivo\r\n            var file = $("#files")[0].files[0];\r\n            //obtenemos el nombre del archivo\r\n            var fileName = file.name;\r\n            //obtenemos la extensión del archivo\r\n            //document.getElementById("nombreImagen").value=fileName;\r\n            fileExtension = fileName.substring(fileName.lastIndexOf(\'.\') + 1);\r\n            //obtenemos el tamaño del archivo\r\n            var fileSize = file.size;\r\n            //obtenemos el tipo de archivo image/png ejemplo\r\n            var fileType = file.type;\r\n\r\n            $("#cambiar").show();\r\n            //mensaje con la información del archivo\r\n            // alert("<span class=\'info\'>Archivo para subir: "+fileName+", peso total: "+fileSize+" bytes.</span>");\r\n        });\r\n    });\r\n</script>'),
e.put("app/centrales/gestion-pagos/central-pagos.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="ibox float-e-margins"><div class="ibox-title radio-title"><div class="row"><div class="col-lg-1" style="text-align:right;margin-top:5px;"><i class="fa fa-money icon-title"></i></div><div class="col-lg-4"><h1>Gestión de Pagos</h1></div><div class="col-lg-4"><div class="input-group" style="margin-top:5px;"><span class="input-group-btn"><button type="button" class="btn btn-sm btn-buscador" ng-click="vm.cargarMensajero()"><i class="fa fa-search" style="color:#DF1008"></i></button></span> <input type="text" placeholder="Escriba el codigo del mensajero" class="input-sm form-control buscador-domigo" ng-model="vm.buscar" ng-enter="vm.cargarMensajero()"></div></div></div></div><div class="ibox-content radio-body" style="border-top:0"><div class="row"><div class="col-lg-10"><div class="widget style1 bg-domigo text-white" style="border-radius:20px;padding-bottom:0;zoom:90%"><div class="row"><div class="col-lg-1"><img ng-src="http://api.domigo.co/images/mensajeros/{{vm.mensajero.fotografia}}" class="img-circle m-b-md" alt="profile" width="60px" height="60px"></div><div class="col-lg-2" style="text-align:right;"><span style="margin-left:5px;">{{vm.mensajero.nombre}} {{vm.mensajero.apellidos}}</span><h4 style="margin-left:5px;">C.C: {{vm.mensajero.cedula}}</h4></div><div class="col-lg-9" style="border-left:2px solid #c3c3c3;"><div class="col-lg-12" style="background-color:#FFF;border-radius:20px;padding-top:20px;padding-bottom:5px;"><div class="row"><form name="pagosForm"><div class="col-lg-4"><div class="form-group"><input ng-model="vm.pago.fecha" type="date" class="input-sm form-control buscador-domigo" required="" style="color:#000"></div></div><div class="col-lg-4"><select ng-model="vm.pago.concepto" style="color:#000" class="input-sm form-control buscador-domigo" required=""><option value="" disabled="">Concepto de pago</option><option ng-repeat="concepto in vm.conceptos" value="{{concepto.id}}">{{concepto.nombre}}</option></select></div><div class="col-lg-3"><div class="form-group"><input ng-model="vm.pago.valor" type="number" min="1" class="input-sm form-control buscador-domigo" required="" placeholder="$ Valor" style="color:#000"></div></div><div class="col-lg-1" style="zoom:80%;padding:0;margin-top:-5px"><button ng-disabled="pagosForm.$invalid" class="btn btn-circle btn-lg btn-green" type="button" ng-click="vm.guardarPago()"><i class="fa fa-plus"></i></button></div></form></div></div></div></div></div><div class="row" style="border-bottom:2px solid #B71C1C"><div class="col-lg-6"><h1>Historial de pagos</h1></div><div class="col-lg-3" style="text-align:right"><div class="input-group" style="margin-top:5px;"><span class="input-group-btn"><button type="button" class="btn btn-sm btn-buscador" ng-click="vm.cargarMensajero()"><i class="fa fa-search" style="color:#DF1008"></i></button></span> <input type="text" placeholder="filtro concepto" class="input-sm form-control buscador-domigo" ng-model="filtro"></div></div><div class="col-lg-3" style="text-align:right"><h2>TOTAL: <span style="color:#000">{{vm.total | currency}}</span></h2></div><div ng-if="vm.pagos <= 0" style="text-align: center;margin-top:20px;"><table align="center"><tr><td><i class="fa fa-money" style="font-size:120px;color:#e0e0e0"></i></td><td style="font-size:24px;color:#e0e0e0;font-weight:600">Este Mensajero aun no tiene<br>pagos registrados <span style="color:#DF1008">:(</span></td></tr></table></div><div ng-if="vm.pagos != 0"><table class="table table-striped"><tr><td>#</td><th>fecha</th><th>Valor</th><th>Concepto</th><th></th></tr><tbody><tr ng-repeat="pago in vm.pagos | filter:filtro"><td>{{$index+1}}</td><td>{{pago.fecha | date}}</td><td>{{pago.valor | currency}} pesos</td><td ng-if="pago.concepto.nombre == \'planilla\'"><span class="badge badge-primary bg-domigo">{{pago.concepto.nombre}}</span></td><td ng-if="pago.concepto.nombre == \'ahorro\'"><span class="badge badge-warning">{{pago.concepto.nombre}}</span></td><td ng-if="pago.concepto.nombre == \'prestamo\'"><span class="badge badge-success">{{pago.concepto.nombre}}</span></td><td style="zoom:80%" width="20%"></td></tr></tbody></table></div></div></div><div class="col-lg-2" style="border-left:1px solid #B71C1C"><div class="row"><div class="col-lg-12"><div style="border-bottom:1px solid #B71C1C"><span style="color:#64dd17">Última Semana</span><div style="margin-top:7px;margin-bottom:7px"><table><tr><td><div style="width:40px;height:40px; background-color:#B71C1C;color:#FFF;border-radius:50%;padding-top:8px;"><center style="font-size:16px;">$</center></div></td><td><span style="margin-left:10px;">{{vm.ultimosPagos.total_semana | currency}}</span></td></tr></table></div></div></div></div><br><div class="row"><div class="col-lg-12"><div style="border-bottom:1px solid #B71C1C"><span style="color:#64dd17">Último Mes</span><div style="margin-top:7px;margin-bottom:7px"><table><tr><td><div style="width:40px;height:40px; background-color:#B71C1C;color:#FFF;border-radius:50%;padding-top:8px;"><center style="font-size:16px;">$</center></div></td><td><span style="margin-left:10px;">{{vm.ultimosPagos.total_semana | currency}}</span></td></tr></table></div></div></div></div><br><div class="row"><div class="col-lg-12"><div style="border-bottom:1px solid #B71C1C"><span style="color:#64dd17">Último Pagos</span><div style="margin-top:7px;"><div ng-repeat="mensajero in vm.ultimosPagos.mensajeros" class="widget style1 bg-domigo text-white" style="border-radius:5px;padding:5px;padding-bottom:0;font-weight:100"><div class="row" style="zoom:90%"><div class="col-lg-3"><img ng-src="http://api.domigo.co/images/mensajeros/{{mensajero.fotografia}}" class="img-circle m-b-md" alt="profile" width="40px" height="40px"></div><div class="col-lg-9">{{mensajero.nombre}} {{mensajero.apellidos}}</div></div></div></div></div></div></div></div></div></div></div></div><script>\r\n    $(\'#ui\').css("background-color", "#DF1008");\r\n    $("#page-wrapper").css("background-color", "#DF1008");\r\n</script>'),e.put("app/centrales/gestion-pagos/consulta-pagos.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="ibox float-e-margins"><div class="ibox-title radio-title"><div class="row"><div class="col-lg-1" style="text-align:right;margin-top:5px;"><i class="fa fa-search icon-title"></i></div><div class="col-lg-4"><h1>Consulta de pagos</h1></div><div class="col-lg-3">Desde:<div class="input-group" style="margin-top:5px;"><span class="input-group-btn"><button type="button" class="btn btn-sm btn-buscador"><i class="fa fa-calendar" style="color:#DF1008"></i></button></span> <input type="date" class="input-sm form-control buscador-domigo" ng-model="vm.fechaInicio"></div></div><div class="col-lg-3">Hasta:<div class="input-group" style="margin-top:5px;"><span class="input-group-btn"><button type="button" class="btn btn-sm btn-buscador"><i class="fa fa-calendar" style="color:#DF1008"></i></button></span> <input type="date" class="input-sm form-control buscador-domigo" ng-model="vm.fechaFinal"></div></div><div class="col-lg-1"><button class="btn btn-primary" style="margin-top:20px;"><i class="fa fa-search"></i></button></div></div></div><div class="ibox-content radio-body" style="border-top:0"><div class="row"><div class="col-lg-12"><div class="row"><div ng-if="vm.pagos <= 0" style="text-align: center;margin-top:20px;"><table align="center"><tr><td><i class="fa fa-money" style="font-size:120px;color:#e0e0e0"></i></td><td style="font-size:24px;color:#e0e0e0;font-weight:600">Aun no a realizado una consulta <span style="color:#DF1008">:(</span></td></tr></table></div><div ng-if="vm.pagos != 0"><table class="table table-hover"><tr><td>#</td><th></th><th>Mensajero</th><th>fecha</th><th>Valor</th><th>Concepto</th></tr><tbody><tr ng-repeat="pagoMensajero in vm.pagos track by $index"><td>1</td><td><img ng-src="http://localhost:1337/images/mensajeros/{{pagoMensajero.fotografia}}" class="img-circle" alt="profile" width="30px" height="30px"></td><td>{{pagoMensajero.mensajero.nombre}} {{pagoMensajero.mensajero.apellidos}}</td><td>{{pagoMensajero.fecha}}</td><td>{{pagoMensajero.valor | currency}}</td><td>{{pagoMensajero.concepto.nombre}}</td></tr></tbody></table><div class="row"><div class="col-lg-11" style="text-align:right"><h2>TOTAL: <span style="color:#000">{{vm.total | currency}}</span></h2></div></div></div></div></div></div></div></div></div><script>\r\n    $(\'#ui\').css("background-color", "#DF1008");\r\n    $("#page-wrapper").css("background-color", "#DF1008");\r\n</script>'),e.put("app/centrales/gestion-pedidos/central-pedidos.html",'<style>\n    .typeahead-demo .custom-popup-wrapper {\n        position: absolute;\n        top: 100%;\n        left: 0;\n        z-index: 1000;\n        background-color: #e5e6e7\n    }\n</style><script type="text/ng-template" id="customTemplate.html"><a href="javascript:;" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a></script><script type="text/ng-template" id="modal-descripcion.html"><div class="modal-header"> <h3 class="modal-title">Agrega la descripción del pedido!</h3> </div> <div class="modal-body"> <br/> <form ng-submit="ok()"> <div class="input-group animated fadeIn"> <input type="text" class="form-control finderBar" ng-model="descripcion" placeholder="Escribe aca la descripción del pedido." autofocus> <span class="input-group-btn"> <button class="btn btn-default" type="button" ng-click="ok()">Ya!</button> </span> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="ok()">Ok</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancelar</button> </div></script><div class="wrapper wrapper-content animated fadeIn"><div class="ibox float-e-margins"><div class="ibox-title radio-title"><div class="row"><div class="col-lg-1" style="text-align:right;margin-top:5px;"><i class="fa fa-dropbox icon-title"></i></div><div class="col-lg-5"><div style="float:left;"><h1>Nuevos Pedidos</h1></div><div style="text-align: center;"><a class="btn btn-circle btn-lg btn-green" ng-click="vm.newPedidoManual()"><i class="fa fa-plus"></i></a></div></div><div class="col-lg-4"><div class="input-group" style="margin-top:5px;"></div></div><div class="col-lg-2" style="text-align:center;color:#DF1008"><i class="fa fa-star"></i> MENSAJEROS<br>DISPONIBLES</div></div></div><div class="ibox-content radio-body" style="border-top:0;" id="content"><div class="row"><div class="col-lg-10" style="padding:0"><ul style="margin:0;padding: 0"><li style="padding: 0;margin: 0;list-style:none;zoom:90%" ng-mouseover="vm.selectPedido(cliente.cliente)" ng-repeat="cliente in vm.clientes track by $index"><form name="pedidoForm" novalidate=""><table width="100%"><tr><td width="3%">{{$index+1}}</td><td style="width:10%"><div class="row"><div class="col-lg-12" style="padding:0"><button ng-click="vm.changeTipoCliente(\'particular\', $index)" class="btn" id="checkParticular" type="button" style="margin-top:5px;margin-left:5px; border-radius:50%;width:40px;height:40px;background-color:transparent;border:3px solid #b71c1c" ng-style="vm.selectedColorTipoBotonParticular($index)"><i id="checkParticular" ng-style="vm.selectedColorTipoIconoParticular($index)" class="fa fa-user" style="color:#b71c1c"></i></button> <button ng-click="vm.changeTipoCliente(\'empresa\', $index)" class="btn" style="margin-top:5px;margin-left:5px; border-radius:50%;width:40px;height:40px;background-color:transparent;border:3px solid #b71c1c" id="checkEmpresa" type="button" ng-style="vm.selectedColorTipoBotonEmpresa($index)"><i id="checkEmpresa" ng-style="vm.selectedColorTipoIconoEmpresa($index)" class="fa fa-bank" style="color:#b71c1c"></i></button></div></div></td><td width="10%"><input ng-min="0" value="{{cliente.cliente.telefono }}" type="number" placeholder="Telefono" id="exampleInputEmail2" class="input-sm form-control buscador-domigo" style="margin-top:3px;" ng-model="cliente.cliente.telefono" required=""></td><td width="12%"><input value="{{cliente.cliente.nombre}}" type="text" placeholder="Nombres" id="exampleInputEmail2" class="input-sm form-control buscador-domigo" ng-model="cliente.cliente.nombre" style="margin-top:3px;" required=""></td><td width="17%"><div class="input-group" style="margin-top:5px;"><span class="input-group-btn"><button type="button" class="btn btn-sm btn-buscador"><i class="material-icons" style="color:#DF1008;font-size:14px;border-right:2px solid #DF1008;">location_on</i></button></span> <input type="text" placeholder="Origen" uib-typeahead="direccion for direccion in vm.dorigens | filter:$viewValue" typeahead-template-url="customTemplate.html" typeahead-show-hint="true" typeahead-min-length="0" ng-model="cliente.direccion_origen" ng-init="vm.cargarDireccionesOrigen(cliente.cliente.id, \'origen\')" class="input-sm form-control autocomplete-domigo" required=""></div></td><td width="17%"><div class="input-group" style="margin-top:5px;"><span class="input-group-btn"><button type="button" class="btn btn-sm btn-buscador"><i class="material-icons" style="color:#DF1008;font-size:14px;border-right:2px solid #DF1008;">location_on</i></button></span> <input type="text" ng-model="cliente.direccion_destino" placeholder="Destino" uib-typeahead="direccion for direccion in vm.ddestinos | filter:$viewValue" typeahead-template-url="customTemplate.html" class="input-sm form-control autocomplete-domigo" typeahead-show-hint="true" typeahead-min-length="0" ng-init="vm.cargarDireccionesDestino(cliente.cliente.id, \'destino\')" required=""></div></td><td width="15%"><div style="margin-top: 5px;"><select class="input-sm form-control buscador-domigo" name="account" ng-model="cliente.tipo" required=""><option value="" disabled="">Selecciona el tipo del servicio</option><option value="1">Comida rapida ida y vuelta</option><option value="2">Acompanamiento de consignacion bancaria</option><option value="3">Pago de factura en banco</option></select></div></td><td width="5%" style="text-align:center"><a href="javascript:;" title="descripcion" ng-click="vm.agregarDescripcion($index)"><i class="fa fa-comments" style="font-size:24px;color:#b71c1c"></i></a> <input type="text" ng-model="cliente.descripcion" ng-show="false"></td><td width="10"><button ng-click="vm.removePedido($index)" class="btn btn-danger" type="button" style="margin-top:5px;margin-left:5px; border-radius:50%;width:40px;height:40px;"><i class="fa fa-close"></i></button> <button ng-disabled="pedidoForm.$invalid" ng-click="vm.guardarPedido($index)" class="btn btn-green" style="margin-top:5px;margin-left:5px; border-radius:50%;width:40px;height:40px;" type="submit"><i class="fa fa-check"></i></button></td></tr></table></form></li><li ng-if="vm.clientes.length == 0" style="list-style:none"><div class="row"><div class="col-lg-12" style="margin-top:15%;text-align:center"><table align="center"><tr><td><i class="fa fa-dropbox icon-title" style="font-size:120px;"></i></td><td style="font-size:24px;color:#e0e0e0;font-weight:600">Aùn no tienes pedidos registrados <span style="color:#DF1008">:(</span></td></tr></table></div></div></li></ul></div><div class="col-lg-2" style="padding:0;"><center ng-if="vm.mensajeros.length > 0"><div style="height:40px;width:40px;border-radius:50%;background-color:#DF1008;"><center style="font-size:24px;color:#FFF;padding-top:3px;">{{vm.mensajeros.length}}</center></div></center><center ng-if="vm.mensajeros.length == 0"><div style="height:80px;width:80px;border-radius:50%;background-color:#e0e0e0;"><center style="font-size:24px;color:#FFF;padding-top:20px;">00</center></div></center><br><div style="border:2px solid #DF1008;border-radius:10px;padding:0;font-weight:100"><table class="table" ng-if="vm.mensajeros.length > 0"><tr ng-repeat="mensajero in vm.mensajeros | orderBy : \'nombre\'"><td style="border-bottom:1px solid #e0e0e0">{{mensajero.nombre}}</td><td style="border-bottom:1px solid #e0e0e0"><a href="javascript:;" ng-click="vm.selectMensajero(mensajero)">S</a></td></tr></table><table class="table" ng-if="vm.mensajeros.length == 0"><tr><td style="font-size:16px;color:#e0e0e0;font-weight:600;text-align:center">No tienes mensajeros disponibles</td></tr></table></div><br><div style="text-align:center;color:#DF1008"><i class="fa fa-star"></i> MENSAJEROS<br>OCUPADOS</div><br><center ng-if="vm.mensajerosOcupados.length > 0"><div style="height:40px;width:40px;border-radius:50%;background-color:#DF1008;"><center style="font-size:24px;color:#FFF;padding-top:3px;">{{vm.mensajerosOcupados.length}}</center></div></center><center ng-if="vm.mensajerosOcupados.length == 0"><div style="height:80px;width:80px;border-radius:50%;background-color:#e0e0e0;"><center style="font-size:24px;color:#FFF;padding-top:20px;">00</center></div></center><br><div style="border:2px solid #DF1008;border-radius:10px;padding:0;font-weight:100"><table class="table" ng-if="vm.mensajerosOcupados.length > 0"><tr ng-repeat="mensajero in vm.mensajerosOcupados | orderBy : \'nombre\'"><td style="border-bottom:1px solid #e0e0e0">{{mensajero.nombre}}</td><td style="border-bottom:1px solid #e0e0e0"><a href="javascript:;" style="color: #DF1008" ng-click="vm.selectMensajero(mensajero)" title="Seleccionar"><i class="fa fa-hand-o-up"></i></a> <a href="javascript:;" title="Colocar disponible" ng-click="vm.colocarDisponible(mensajero)"><i class="fa fa-check"></i></a></td></tr></table><table class="table" ng-if="vm.mensajerosOcupados.length == 0"><tr><td style="font-size:16px;color:#e0e0e0;font-weight:600;text-align:center">No tienes mensajeros ocupados</td></tr></table></div></div></div></div></div></div><script>\n    var alto = $(window).height();\n    $(\'#content\').css({\'min-height\': alto - 200 + \'px\'});\n\n\n    $(\'#ui\').css("background-color", "#DF1008");\n    $("#page-wrapper").css("background-color", "#DF1008");\n\n</script>'),e.put("app/centrales/gestion-pedidos/modal-descripcion.html",""),e.put("app/centrales/home/home.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="row"><div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Informacion de mensajeros</h5></div><div class="ibox-content"><div class="row"><div class="col-lg-6"><table class="table"><tbody><tr><td><button type="button" class="btn btn-danger m-r-sm">12</button> Total En servicio</td><td><button type="button" class="btn btn-primary m-r-sm">28</button> Inactivos</td></tr><tr><td><button type="button" class="btn btn-info m-r-sm">20</button> Total Disponibles</td><td><button type="button" class="btn btn-success m-r-sm">40</button> Sancionados</td></tr><tr><td><button type="button" class="btn btn-warning m-r-sm">20</button> Ocupados</td><td><button type="button" class="btn btn-default m-r-sm">40</button> lista Negra</td></tr></tbody></table></div><div class="col-lg-6"><table class="table table-striped"><thead><tr><th>#</th><th></th><th>Cedula</th><th>Nombre</th><th>Opion</th></tr></thead><tbody><tr><td>2</td><td></td><td>10656545878</td><td>Juan</td><th><a href="">Ver</a></th></tr><tr><td>3</td><td></td><td>10656545878</td><td>Pedro</td><th><a href="">Ver</a></th></tr><tr><td>4</td><td></td><td>10656545878</td><td>Jose</td><th><a href="">Ver</a></th></tr></tbody></table></div></div></div></div></div></div><div class="row"><div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Estadisticas servicios</h5><div class="pull-right"><div class="btn-group"><button type="button" class="btn btn-xs btn-white active">Hoy</button> <button type="button" class="btn btn-xs btn-white">Mes</button> <button type="button" class="btn btn-xs btn-white">Anual</button></div></div></div><div class="ibox-content"><div class="row"><div class="col-lg-9"></div><div class="col-lg-3"><ul class="stat-list"><li><h2 class="no-margins">26</h2><small>Total hoy</small><div class="progress progress-mini"><div style="width: 48%;" class="progress-bar"></div></div></li><li><h2 class="no-margins">1620</h2><small>Total Mes</small><div class="progress progress-mini"><div style="width: 60%;" class="progress-bar"></div></div></li><li><h2 class="no-margins">16652</h2><small>total Año</small><div class="progress progress-mini"><div style="width: 22%;" class="progress-bar"></div></div></li></ul></div></div></div></div></div></div></div>'),e.put("app/centrales/gestion-pedidos/consultar-pedidos/consulta-pedidos.html",'<div class="wrapper wrapper-content animated fadeIn"><div class="ibox float-e-margins"><div class="ibox-title radio-title"><div class="row"><div class="col-lg-1" style="text-align:right;margin-top:5px;"><i class="fa fa-list-ol icon-title"></i></div><div class="col-lg-7"><h1>Consulta de Pedidos</h1></div><div class="col-lg-4"><div class="input-group" style="margin-top:5px;"><span class="input-group-btn"><button type="button" class="btn btn-sm btn-buscador"><i class="fa fa-search" style="color:#DF1008"></i></button></span> <input type="text" placeholder="Buscador" class="input-sm form-control buscador-domigo" ng-model="filtro"></div></div></div></div><div class="ibox-content radio-body" style="border-top:0;" id="content"><div class="row"><div class="col-lg-12"><table class="table table-hover"><tr><td>#</td><th></th><th>Mensajero</th><th>Cliente</th><th>fecha</th><th>tipo de Servicio</th><th>Estado pedido</th></tr><tbody><tr></tr></tbody></table></div></div></div><script>\r\nvar alto = $(window).height();\r\n$(\'#content\').css({\'min-height\':alto-200+\'px\' });\r\n\r\n\r\n $(\'#ui\').css("background-color","#DF1008");\r\n        $("#page-wrapper").css("background-color","#DF1008");\r\n\r\n</script></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-a341cb9a9c.js.map
